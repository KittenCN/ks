
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Tkinter 打砖块游戏（Python 项目） · CoderFAN 资料库</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Todd Lyu">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="323.html" />
    
    <!-- MathJax 配置：唯一且完整 -->
<script>
    window.MathJax = {
      tex: {
        inlineMath:  [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']],
        processEscapes: true,
        processEnvironments: true,
        strict: "ignore",
        macros: { "\\E":"\\mathbb{E}", "\\Var":"\\operatorname{Var}" }
      },
    };
    </script>
    
    <!-- 核心脚本（defer不阻塞渲染） -->
    <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    
    <!-- 放在 tex-chtml.js 之后 -->
    <script>
    (function () {
      function typeset() {
        if (window.MathJax && MathJax.typesetPromise) {
          MathJax.typesetPromise().catch(console.error);
        }
      }
    
      /* 第一次正文插入 */
      document.addEventListener('DOMContentLoaded', typeset);
    
      /*   关键：等待 gitbook.js 初始化成功   */
      function hookGitBook() {
        if (window.gitbook && gitbook.events) {
          gitbook.events.bind('page.change', typeset);   // 切章排版
        } else {
          /* gitbook.js 还没加载完 → 100 ms 后再试 */
          setTimeout(hookGitBook, 100);
        }
      }
      hookGitBook();   // 启动递归等待
    })();
    </script>
    
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                <a href=".." class="btn"><b></b>&#128512;返回上层&#128512;</b></a>
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Tkinter
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="294.html">
            
                <a href="294.html">
            
                    
                    Tkinter 基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="295.html">
            
                <a href="295.html">
            
                    
                    Tkinter 模块介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="296.html">
            
                <a href="296.html">
            
                    
                    Tkinter 窗口、小部件和框架
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="297.html">
            
                <a href="297.html">
            
                    
                    Tkinter 窗口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="298.html">
            
                <a href="298.html">
            
                    
                    Tkinter 小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="299.html">
            
                <a href="299.html">
            
                    
                    Tkinter 小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="300.html">
            
                <a href="300.html">
            
                    
                    Tkinter 几何管理器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="301.html">
            
                <a href="301.html">
            
                    
                    Tkinter 标签小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9" data-path="302.html">
            
                <a href="302.html">
            
                    
                    Tkinter 按钮小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.10" data-path="303.html">
            
                <a href="303.html">
            
                    
                    Tkinter Checkbutton小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11" data-path="304.html">
            
                <a href="304.html">
            
                    
                    Tkinter Radiobutton小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12" data-path="305.html">
            
                <a href="305.html">
            
                    
                    Tkinter 输入小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13" data-path="306.html">
            
                <a href="306.html">
            
                    
                    Tkinter 消息小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14" data-path="307.html">
            
                <a href="307.html">
            
                    
                    Tkinter 菜单小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15" data-path="308.html">
            
                <a href="308.html">
            
                    
                    Tkinter Menubutton小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16" data-path="309.html">
            
                <a href="309.html">
            
                    
                    Tkinter 框架小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.17" data-path="310.html">
            
                <a href="310.html">
            
                    
                    Tkinter 画布小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.18" data-path="311.html">
            
                <a href="311.html">
            
                    
                    Tkinter Listbox小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.19" data-path="312.html">
            
                <a href="312.html">
            
                    
                    Tkinter Scrollbar小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.20" data-path="313.html">
            
                <a href="313.html">
            
                    
                    Tkinter 缩放小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.21" data-path="314.html">
            
                <a href="314.html">
            
                    
                    Tkinter 顶层小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.22" data-path="315.html">
            
                <a href="315.html">
            
                    
                    Tkinter Spinbox小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.23" data-path="316.html">
            
                <a href="316.html">
            
                    
                    Tkinter LabelFrame小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.24" data-path="317.html">
            
                <a href="317.html">
            
                    
                    Tkinter PanedWindow小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.25" data-path="318.html">
            
                <a href="318.html">
            
                    
                    Tkinter 文本小部件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.26" data-path="319.html">
            
                <a href="319.html">
            
                    
                    Tkinter 消息框
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.27" data-path="320.html">
            
                <a href="320.html">
            
                    
                    Tkinter 应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.28" data-path="321.html">
            
                <a href="321.html">
            
                    
                    Tkinter 计算器应用（Python 项目）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.29" data-path="322.html">
            
                <a href="322.html">
            
                    
                    Tkinter 文本编辑器应用（Python 项目）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.30" data-path="323.html">
            
                <a href="323.html">
            
                    
                    Tkinter 音乐播放器应用（Python 项目）
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.1.31" data-path="324.html">
            
                <a href="324.html">
            
                    
                    Tkinter 打砖块游戏（Python 项目）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Tkinter 打砖块游戏（Python 项目）</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="tkinter-打砖块游戏（python-项目）">Tkinter 打砖块游戏（Python 项目）</h1>
<blockquote>
<p>原文：<a href="https://www.studytonight.com/tkinter/brick-breaker-game-using-tkinter-python-project" target="_blank">https://www.studytonight.com/tkinter/brick-breaker-game-using-tkinter-python-project</a></p>
</blockquote>
<p>是时候用 Python 编写一个游戏了。我们将从一个简单的打砖块游戏开始，在这个游戏中，有一个球从一个平台反弹回来打破砖墙，玩家必须通过确保球拍始终在那里将球反弹回来来保持球的前进。</p>
<p>游戏将有三层砖块，每层砖块的命中能力不同，这意味着一些砖块会在<strong>单次命中</strong>时破碎，一些会要求<strong>双次命中</strong>，一些会要求<strong>三次命中</strong>。</p>
<p><img src="img/1d4f9a39af15a8e9e38ce56ff4fd1186.png" alt="brick breaker game python project"></img></p>
<p>为了简化游戏的逻辑和用户界面，下面是砖块的类型:</p>
<p><strong>青砖:</strong>需要三击才能破</p>
<p><strong>粉色砖块:</strong>需要两击才能破</p>
<p><strong>紫砖:</strong>需要三击才能破</p>
<h2 id="先决条件">先决条件:</h2>
<p>要理解 Python 中构建砖块断路器游戏的代码，您应该知道以下概念:</p>
<ul>
<li><p><a href="https://www.studytonight.com/python/class-in-python" target="_blank">用 Python 创建类</a></p>
</li>
<li><p><a href="https://www.studytonight.com/python/constructors-in-python" target="_blank">Python 中类的构造器</a></p>
</li>
<li><p><a href="https://www.studytonight.com/python/inheritance-in-python" target="_blank">Python 中的继承</a></p>
</li>
<li><p><a href="https://www.studytonight.com/python/access-modifier-python" target="_blank">Python 中的访问修饰符</a></p>
</li>
<li><p><a href="https://www.studytonight.com/python/_name_-as-main-method-in-python" target="_blank"><code>__name__</code>为 Python 中的主要方法</a></p>
</li>
</ul>
<p>除此之外，还需要对 Python 有全面的了解，这也可以从我们的免费教程系列中获得 <strong><a href="https://www.studytonight.com/python/" target="_blank">学习 Python</a></strong> 。</p>
<h2 id="打砖块游戏的代码">打砖块游戏的代码</h2>
<p>我们将在代码中创建 5 个类，类的名称是:</p>
<ol>
<li><p>游戏对象</p>
</li>
<li><p>球</p>
</li>
<li><p>涉水</p>
</li>
<li><p>砖</p>
</li>
<li><p>比赛</p>
</li>
</ol>
<p>所有这些类都有方法在各自的游戏元素上执行各种处理和操作。</p>
<p>让我们看看每个类的代码。</p>
<h3 id="游戏对象类">游戏对象类</h3>
<p>这个类是所有其他类的父类，这意味着所有其他类都将继承这个类。</p>
<p>这个类的代码如下:</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GameObject</span><span class="hljs-params">(object)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, canvas, item)</span>:</span>
        self.canvas = canvas
        self.item = item

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_position</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.canvas.coords(self.item)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">move</span><span class="hljs-params">(self, x, y)</span>:</span>
        self.canvas.move(self.item, x, y)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">delete</span><span class="hljs-params">(self)</span>:</span>
        self.canvas.delete(self.item)
</code></pre>
<p>这个类具有处理构成游戏的不同对象的基本生命周期的功能。</p>
<h3 id="球类">球类</h3>
<p>下面是 Ball 类的代码:</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ball</span><span class="hljs-params">(GameObject)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, canvas, x, y)</span>:</span>
        self.radius = <span class="hljs-number">10</span>
        self.direction = [<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>]
        <span class="hljs-comment"># increase the below value to increase the speed of ball</span>
        self.speed = <span class="hljs-number">5</span>
        item = canvas.create_oval(x-self.radius, y-self.radius,
                                  x+self.radius, y+self.radius,
                                  fill=<span class="hljs-string">'white'</span>)
        super(Ball, self).__init__(canvas, item)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">(self)</span>:</span>
        coords = self.get_position()
        width = self.canvas.winfo_width()
        <span class="hljs-keyword">if</span> coords[<span class="hljs-number">0</span>] &lt;= <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> coords[<span class="hljs-number">2</span>] &gt;= width:
            self.direction[<span class="hljs-number">0</span>] *= -<span class="hljs-number">1</span>
        <span class="hljs-keyword">if</span> coords[<span class="hljs-number">1</span>] &lt;= <span class="hljs-number">0</span>:
            self.direction[<span class="hljs-number">1</span>] *= -<span class="hljs-number">1</span>
        x = self.direction[<span class="hljs-number">0</span>] * self.speed
        y = self.direction[<span class="hljs-number">1</span>] * self.speed
        self.move(x, y)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">collide</span><span class="hljs-params">(self, game_objects)</span>:</span>
        coords = self.get_position()
        x = (coords[<span class="hljs-number">0</span>] + coords[<span class="hljs-number">2</span>]) * <span class="hljs-number">0.5</span>
        <span class="hljs-keyword">if</span> len(game_objects) &gt; <span class="hljs-number">1</span>:
            self.direction[<span class="hljs-number">1</span>] *= -<span class="hljs-number">1</span>
        <span class="hljs-keyword">elif</span> len(game_objects) == <span class="hljs-number">1</span>:
            game_object = game_objects[<span class="hljs-number">0</span>]
            coords = game_object.get_position()
            <span class="hljs-keyword">if</span> x &gt; coords[<span class="hljs-number">2</span>]:
                self.direction[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>
            <span class="hljs-keyword">elif</span> x &lt; coords[<span class="hljs-number">0</span>]:
                self.direction[<span class="hljs-number">0</span>] = -<span class="hljs-number">1</span>
            <span class="hljs-keyword">else</span>:
                self.direction[<span class="hljs-number">1</span>] *= -<span class="hljs-number">1</span>

        <span class="hljs-keyword">for</span> game_object <span class="hljs-keyword">in</span> game_objects:
            <span class="hljs-keyword">if</span> isinstance(game_object, Brick):
                game_object.hit()
</code></pre>
<p>在球类中，<code>collide()</code>方法用于处理碰撞，并在游戏类的 check _ conflicts()函数中使用。而<code>update()</code>功能是在失去生命后重置球对象，游戏重新开始。</p>
<h3 id="桨类">桨类</h3>
<p>以下是 Paddle 类的代码:</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Paddle</span><span class="hljs-params">(GameObject)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, canvas, x, y)</span>:</span>
        <span class="hljs-comment"># set the shape and position of paddle</span>
        self.width = <span class="hljs-number">80</span>
        self.height = <span class="hljs-number">10</span>
        self.ball = <span class="hljs-keyword">None</span>
        item = canvas.create_rectangle(x - self.width / <span class="hljs-number">2</span>,
                                       y - self.height / <span class="hljs-number">2</span>,
                                       x + self.width / <span class="hljs-number">2</span>,
                                       y + self.height / <span class="hljs-number">2</span>,
                                       fill=<span class="hljs-string">'#FFB643'</span>)
        super(Paddle, self).__init__(canvas, item)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_ball</span><span class="hljs-params">(self, ball)</span>:</span>
        self.ball = ball

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">move</span><span class="hljs-params">(self, offset)</span>:</span>
        coords = self.get_position()
        width = self.canvas.winfo_width()
        <span class="hljs-keyword">if</span> coords[<span class="hljs-number">0</span>] + offset &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> coords[<span class="hljs-number">2</span>] + offset &lt;= width:
            super(Paddle, self).move(offset, <span class="hljs-number">0</span>)
            <span class="hljs-keyword">if</span> self.ball <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
                self.ball.move(offset, <span class="hljs-number">0</span>)
</code></pre>
<p>除了构造器之外，这个类中的<code>move()</code>方法也很重要，因为<strong>可以使桨</strong>运动。</p>
<h3 id="砖块类">砖块类</h3>
<p>下面是 Brick 类的代码:</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Brick</span><span class="hljs-params">(GameObject)</span>:</span>
    COLORS = {<span class="hljs-number">1</span>: <span class="hljs-string">'#4535AA'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'#ED639E'</span>, <span class="hljs-number">3</span>: <span class="hljs-string">'#8FE1A2'</span>}

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, canvas, x, y, hits)</span>:</span>
        self.width = <span class="hljs-number">75</span>
        self.height = <span class="hljs-number">20</span>
        self.hits = hits
        color = Brick.COLORS[hits]
        item = canvas.create_rectangle(x - self.width / <span class="hljs-number">2</span>,
                                       y - self.height / <span class="hljs-number">2</span>,
                                       x + self.width / <span class="hljs-number">2</span>,
                                       y + self.height / <span class="hljs-number">2</span>,
                                       fill=color, tags=<span class="hljs-string">'brick'</span>)
        super(Brick, self).__init__(canvas, item)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hit</span><span class="hljs-params">(self)</span>:</span>
        self.hits -= <span class="hljs-number">1</span>
        <span class="hljs-keyword">if</span> self.hits == <span class="hljs-number">0</span>:
            self.delete()
        <span class="hljs-keyword">else</span>:
            self.canvas.itemconfig(self.item,
                                   fill=Brick.COLORS[self.hits])
</code></pre>
<p>我们通过设置不同砖块类型的颜色来开始类定义。然后在构造器中，定义砖块的大小和位置。然后是<code>hit()</code>功能，处理砖块是会消失还是会承受打击，改变颜色承受下一次打击。</p>
<h3 id="游戏课">游戏课</h3>
<p>这是控制一切的主类。下面是代码:</p>
<pre><code class="lang-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Game</span><span class="hljs-params">(tk.Frame)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, master)</span>:</span>
        super(Game, self).__init__(master)
        self.lives = <span class="hljs-number">3</span>
        self.width = <span class="hljs-number">610</span>
        self.height = <span class="hljs-number">400</span>
        self.canvas = tk.Canvas(self, bg=<span class="hljs-string">'#D6D1F5'</span>,
                                width=self.width,
                                height=self.height,)
        self.canvas.pack()
        self.pack()

        self.items = {}
        self.ball = <span class="hljs-keyword">None</span>
        self.paddle = Paddle(self.canvas, self.width/<span class="hljs-number">2</span>, <span class="hljs-number">326</span>)
        self.items[self.paddle.item] = self.paddle
        <span class="hljs-comment"># adding brick with different hit capacities - 3,2 and 1</span>
        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>, self.width - <span class="hljs-number">5</span>, <span class="hljs-number">75</span>):
            self.add_brick(x + <span class="hljs-number">37.5</span>, <span class="hljs-number">50</span>, <span class="hljs-number">3</span>)
            self.add_brick(x + <span class="hljs-number">37.5</span>, <span class="hljs-number">70</span>, <span class="hljs-number">2</span>)
            self.add_brick(x + <span class="hljs-number">37.5</span>, <span class="hljs-number">90</span>, <span class="hljs-number">1</span>)

        self.hud = <span class="hljs-keyword">None</span>
        self.setup_game()
        self.canvas.focus_set()
        self.canvas.bind(<span class="hljs-string">'&lt;Left&gt;'</span>,
                         <span class="hljs-keyword">lambda</span> _: self.paddle.move(-<span class="hljs-number">10</span>))
        self.canvas.bind(<span class="hljs-string">'&lt;Right&gt;'</span>,
                         <span class="hljs-keyword">lambda</span> _: self.paddle.move(<span class="hljs-number">10</span>))

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setup_game</span><span class="hljs-params">(self)</span>:</span>
           self.add_ball()
           self.update_lives_text()
           self.text = self.draw_text(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>,
                                      <span class="hljs-string">'Press Space to start'</span>)
           self.canvas.bind(<span class="hljs-string">'&lt;space&gt;'</span>, <span class="hljs-keyword">lambda</span> _: self.start_game())

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_ball</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">if</span> self.ball <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
            self.ball.delete()
        paddle_coords = self.paddle.get_position()
        x = (paddle_coords[<span class="hljs-number">0</span>] + paddle_coords[<span class="hljs-number">2</span>]) * <span class="hljs-number">0.5</span>
        self.ball = Ball(self.canvas, x, <span class="hljs-number">310</span>)
        self.paddle.set_ball(self.ball)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_brick</span><span class="hljs-params">(self, x, y, hits)</span>:</span>
        brick = Brick(self.canvas, x, y, hits)
        self.items[brick.item] = brick

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">draw_text</span><span class="hljs-params">(self, x, y, text, size=<span class="hljs-string">'40'</span>)</span>:</span>
        font = (<span class="hljs-string">'Forte'</span>, size)
        <span class="hljs-keyword">return</span> self.canvas.create_text(x, y, text=text,
                                       font=font)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_lives_text</span><span class="hljs-params">(self)</span>:</span>
        text = <span class="hljs-string">'Lives: %s'</span> % self.lives
        <span class="hljs-keyword">if</span> self.hud <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
            self.hud = self.draw_text(<span class="hljs-number">50</span>, <span class="hljs-number">20</span>, text, <span class="hljs-number">15</span>)
        <span class="hljs-keyword">else</span>:
            self.canvas.itemconfig(self.hud, text=text)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start_game</span><span class="hljs-params">(self)</span>:</span>
        self.canvas.unbind(<span class="hljs-string">'&lt;space&gt;'</span>)
        self.canvas.delete(self.text)
        self.paddle.ball = <span class="hljs-keyword">None</span>
        self.game_loop()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">game_loop</span><span class="hljs-params">(self)</span>:</span>
        self.check_collisions()
        num_bricks = len(self.canvas.find_withtag(<span class="hljs-string">'brick'</span>))
        <span class="hljs-keyword">if</span> num_bricks == <span class="hljs-number">0</span>: 
            self.ball.speed = <span class="hljs-keyword">None</span>
            self.draw_text(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>, <span class="hljs-string">'You win! You the Breaker of Bricks.'</span>)
        <span class="hljs-keyword">elif</span> self.ball.get_position()[<span class="hljs-number">3</span>] &gt;= self.height: 
            self.ball.speed = <span class="hljs-keyword">None</span>
            self.lives -= <span class="hljs-number">1</span>
            <span class="hljs-keyword">if</span> self.lives &lt; <span class="hljs-number">0</span>:
                self.draw_text(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>, <span class="hljs-string">'You Lose! Game Over!'</span>)
            <span class="hljs-keyword">else</span>:
                self.after(<span class="hljs-number">1000</span>, self.setup_game)
        <span class="hljs-keyword">else</span>:
            self.ball.update()
            self.after(<span class="hljs-number">50</span>, self.game_loop)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">check_collisions</span><span class="hljs-params">(self)</span>:</span>
        ball_coords = self.ball.get_position()
        items = self.canvas.find_overlapping(*ball_coords)
        objects = [self.items[x] <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> items <span class="hljs-keyword">if</span> x <span class="hljs-keyword">in</span> self.items]
        self.ball.collide(objects)
</code></pre>
<p>在本课中，我们有以下内容:</p>
<ol>
<li><p>我们定义了生命的数量，游戏的背景颜色，以及游戏窗口的其他样式。</p>
</li>
<li><p>游戏设置由这个类完成。</p>
</li>
<li><p>添加砖块，添加桨，球和文本是由这个类完成的。</p>
</li>
<li><p>对生活的处理由这个班负责。</p>
</li>
<li><p>开始游戏和运行游戏循环，也是在这堂课上完成的。</p>
</li>
</ol>
<h2 id="打砖块游戏的完整代码">打砖块游戏的完整代码:</h2>
<p>这是游戏的完整代码。</p>
<pre><code class="lang-py"><span class="hljs-keyword">import</span> tkinter <span class="hljs-keyword">as</span> tk

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GameObject</span><span class="hljs-params">(object)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, canvas, item)</span>:</span>
        self.canvas = canvas
        self.item = item

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_position</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self.canvas.coords(self.item)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">move</span><span class="hljs-params">(self, x, y)</span>:</span>
        self.canvas.move(self.item, x, y)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">delete</span><span class="hljs-params">(self)</span>:</span>
        self.canvas.delete(self.item)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ball</span><span class="hljs-params">(GameObject)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, canvas, x, y)</span>:</span>
        self.radius = <span class="hljs-number">10</span>
        self.direction = [<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>]
        <span class="hljs-comment"># increase the below value to increase the speed of ball</span>
        self.speed = <span class="hljs-number">5</span>
        item = canvas.create_oval(x-self.radius, y-self.radius,
                                  x+self.radius, y+self.radius,
                                  fill=<span class="hljs-string">'white'</span>)
        super(Ball, self).__init__(canvas, item)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">(self)</span>:</span>
        coords = self.get_position()
        width = self.canvas.winfo_width()
        <span class="hljs-keyword">if</span> coords[<span class="hljs-number">0</span>] &lt;= <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> coords[<span class="hljs-number">2</span>] &gt;= width:
            self.direction[<span class="hljs-number">0</span>] *= -<span class="hljs-number">1</span>
        <span class="hljs-keyword">if</span> coords[<span class="hljs-number">1</span>] &lt;= <span class="hljs-number">0</span>:
            self.direction[<span class="hljs-number">1</span>] *= -<span class="hljs-number">1</span>
        x = self.direction[<span class="hljs-number">0</span>] * self.speed
        y = self.direction[<span class="hljs-number">1</span>] * self.speed
        self.move(x, y)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">collide</span><span class="hljs-params">(self, game_objects)</span>:</span>
        coords = self.get_position()
        x = (coords[<span class="hljs-number">0</span>] + coords[<span class="hljs-number">2</span>]) * <span class="hljs-number">0.5</span>
        <span class="hljs-keyword">if</span> len(game_objects) &gt; <span class="hljs-number">1</span>:
            self.direction[<span class="hljs-number">1</span>] *= -<span class="hljs-number">1</span>
        <span class="hljs-keyword">elif</span> len(game_objects) == <span class="hljs-number">1</span>:
            game_object = game_objects[<span class="hljs-number">0</span>]
            coords = game_object.get_position()
            <span class="hljs-keyword">if</span> x &gt; coords[<span class="hljs-number">2</span>]:
                self.direction[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>
            <span class="hljs-keyword">elif</span> x &lt; coords[<span class="hljs-number">0</span>]:
                self.direction[<span class="hljs-number">0</span>] = -<span class="hljs-number">1</span>
            <span class="hljs-keyword">else</span>:
                self.direction[<span class="hljs-number">1</span>] *= -<span class="hljs-number">1</span>

        <span class="hljs-keyword">for</span> game_object <span class="hljs-keyword">in</span> game_objects:
            <span class="hljs-keyword">if</span> isinstance(game_object, Brick):
                game_object.hit()

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Paddle</span><span class="hljs-params">(GameObject)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, canvas, x, y)</span>:</span>
        self.width = <span class="hljs-number">80</span>
        self.height = <span class="hljs-number">10</span>
        self.ball = <span class="hljs-keyword">None</span>
        item = canvas.create_rectangle(x - self.width / <span class="hljs-number">2</span>,
                                       y - self.height / <span class="hljs-number">2</span>,
                                       x + self.width / <span class="hljs-number">2</span>,
                                       y + self.height / <span class="hljs-number">2</span>,
                                       fill=<span class="hljs-string">'#FFB643'</span>)
        super(Paddle, self).__init__(canvas, item)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_ball</span><span class="hljs-params">(self, ball)</span>:</span>
        self.ball = ball

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">move</span><span class="hljs-params">(self, offset)</span>:</span>
        coords = self.get_position()
        width = self.canvas.winfo_width()
        <span class="hljs-keyword">if</span> coords[<span class="hljs-number">0</span>] + offset &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> coords[<span class="hljs-number">2</span>] + offset &lt;= width:
            super(Paddle, self).move(offset, <span class="hljs-number">0</span>)
            <span class="hljs-keyword">if</span> self.ball <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
                self.ball.move(offset, <span class="hljs-number">0</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Brick</span><span class="hljs-params">(GameObject)</span>:</span>
    COLORS = {<span class="hljs-number">1</span>: <span class="hljs-string">'#4535AA'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'#ED639E'</span>, <span class="hljs-number">3</span>: <span class="hljs-string">'#8FE1A2'</span>}

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, canvas, x, y, hits)</span>:</span>
        self.width = <span class="hljs-number">75</span>
        self.height = <span class="hljs-number">20</span>
        self.hits = hits
        color = Brick.COLORS[hits]
        item = canvas.create_rectangle(x - self.width / <span class="hljs-number">2</span>,
                                       y - self.height / <span class="hljs-number">2</span>,
                                       x + self.width / <span class="hljs-number">2</span>,
                                       y + self.height / <span class="hljs-number">2</span>,
                                       fill=color, tags=<span class="hljs-string">'brick'</span>)
        super(Brick, self).__init__(canvas, item)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hit</span><span class="hljs-params">(self)</span>:</span>
        self.hits -= <span class="hljs-number">1</span>
        <span class="hljs-keyword">if</span> self.hits == <span class="hljs-number">0</span>:
            self.delete()
        <span class="hljs-keyword">else</span>:
            self.canvas.itemconfig(self.item,
                                   fill=Brick.COLORS[self.hits])

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Game</span><span class="hljs-params">(tk.Frame)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, master)</span>:</span>
        super(Game, self).__init__(master)
        self.lives = <span class="hljs-number">3</span>
        self.width = <span class="hljs-number">610</span>
        self.height = <span class="hljs-number">400</span>
        self.canvas = tk.Canvas(self, bg=<span class="hljs-string">'#D6D1F5'</span>,
                                width=self.width,
                                height=self.height,)
        self.canvas.pack()
        self.pack()

        self.items = {}
        self.ball = <span class="hljs-keyword">None</span>
        self.paddle = Paddle(self.canvas, self.width/<span class="hljs-number">2</span>, <span class="hljs-number">326</span>)
        self.items[self.paddle.item] = self.paddle
        <span class="hljs-comment"># adding brick with different hit capacities - 3,2 and 1</span>
        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>, self.width - <span class="hljs-number">5</span>, <span class="hljs-number">75</span>):
            self.add_brick(x + <span class="hljs-number">37.5</span>, <span class="hljs-number">50</span>, <span class="hljs-number">3</span>)
            self.add_brick(x + <span class="hljs-number">37.5</span>, <span class="hljs-number">70</span>, <span class="hljs-number">2</span>)
            self.add_brick(x + <span class="hljs-number">37.5</span>, <span class="hljs-number">90</span>, <span class="hljs-number">1</span>)

        self.hud = <span class="hljs-keyword">None</span>
        self.setup_game()
        self.canvas.focus_set()
        self.canvas.bind(<span class="hljs-string">'&lt;Left&gt;'</span>,
                         <span class="hljs-keyword">lambda</span> _: self.paddle.move(-<span class="hljs-number">10</span>))
        self.canvas.bind(<span class="hljs-string">'&lt;Right&gt;'</span>,
                         <span class="hljs-keyword">lambda</span> _: self.paddle.move(<span class="hljs-number">10</span>))

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setup_game</span><span class="hljs-params">(self)</span>:</span>
           self.add_ball()
           self.update_lives_text()
           self.text = self.draw_text(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>,
                                      <span class="hljs-string">'Press Space to start'</span>)
           self.canvas.bind(<span class="hljs-string">'&lt;space&gt;'</span>, <span class="hljs-keyword">lambda</span> _: self.start_game())

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_ball</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">if</span> self.ball <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
            self.ball.delete()
        paddle_coords = self.paddle.get_position()
        x = (paddle_coords[<span class="hljs-number">0</span>] + paddle_coords[<span class="hljs-number">2</span>]) * <span class="hljs-number">0.5</span>
        self.ball = Ball(self.canvas, x, <span class="hljs-number">310</span>)
        self.paddle.set_ball(self.ball)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_brick</span><span class="hljs-params">(self, x, y, hits)</span>:</span>
        brick = Brick(self.canvas, x, y, hits)
        self.items[brick.item] = brick

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">draw_text</span><span class="hljs-params">(self, x, y, text, size=<span class="hljs-string">'40'</span>)</span>:</span>
        font = (<span class="hljs-string">'Forte'</span>, size)
        <span class="hljs-keyword">return</span> self.canvas.create_text(x, y, text=text,
                                       font=font)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_lives_text</span><span class="hljs-params">(self)</span>:</span>
        text = <span class="hljs-string">'Lives: %s'</span> % self.lives
        <span class="hljs-keyword">if</span> self.hud <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
            self.hud = self.draw_text(<span class="hljs-number">50</span>, <span class="hljs-number">20</span>, text, <span class="hljs-number">15</span>)
        <span class="hljs-keyword">else</span>:
            self.canvas.itemconfig(self.hud, text=text)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start_game</span><span class="hljs-params">(self)</span>:</span>
        self.canvas.unbind(<span class="hljs-string">'&lt;space&gt;'</span>)
        self.canvas.delete(self.text)
        self.paddle.ball = <span class="hljs-keyword">None</span>
        self.game_loop()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">game_loop</span><span class="hljs-params">(self)</span>:</span>
        self.check_collisions()
        num_bricks = len(self.canvas.find_withtag(<span class="hljs-string">'brick'</span>))
        <span class="hljs-keyword">if</span> num_bricks == <span class="hljs-number">0</span>: 
            self.ball.speed = <span class="hljs-keyword">None</span>
            self.draw_text(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>, <span class="hljs-string">'You win! You the Breaker of Bricks.'</span>)
        <span class="hljs-keyword">elif</span> self.ball.get_position()[<span class="hljs-number">3</span>] &gt;= self.height: 
            self.ball.speed = <span class="hljs-keyword">None</span>
            self.lives -= <span class="hljs-number">1</span>
            <span class="hljs-keyword">if</span> self.lives &lt; <span class="hljs-number">0</span>:
                self.draw_text(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>, <span class="hljs-string">'You Lose! Game Over!'</span>)
            <span class="hljs-keyword">else</span>:
                self.after(<span class="hljs-number">1000</span>, self.setup_game)
        <span class="hljs-keyword">else</span>:
            self.ball.update()
            self.after(<span class="hljs-number">50</span>, self.game_loop)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">check_collisions</span><span class="hljs-params">(self)</span>:</span>
        ball_coords = self.ball.get_position()
        items = self.canvas.find_overlapping(*ball_coords)
        objects = [self.items[x] <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> items <span class="hljs-keyword">if</span> x <span class="hljs-keyword">in</span> self.items]
        self.ball.collide(objects)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    root = tk.Tk()
    root.title(<span class="hljs-string">'Break those Bricks!'</span>)
    game = Game(root)
    game.mainloop()
</code></pre>
<p>要运行游戏，您必须安装 Tkinter 模块。将上面给出的代码保存在一个有名字的文件中，比如说<strong>碎砖工. py</strong> 文件。然后要运行代码，请执行以下命令:</p>
<pre><code class="lang-py">python brick-breaker.py
</code></pre>
<h2 id="打砖块游戏界面">打砖块游戏界面:</h2>
<p>以下是游戏外观的一些快照。</p>
<p>当<strong>玩家赢得</strong>游戏时:</p>
<p><img src="img/a6f9675fe25cbae08b4e2c14a584f2c7.png" alt="brick breaker game tkinter python"></img></p>
<p>当<strong>玩家输掉</strong>游戏时:</p>
<p><img src="img/3117a55387a63cb9c03008328efa9c0e.png" alt="brick breaker game Tkinter"></img></p>
<p>至此，本教程结束。希望游戏对你来说没问题。我们建议您编辑和定制代码，使游戏更好。尝试为游戏添加更多功能。</p>
<hr></hr>
<hr></hr>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="323.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Tkinter 音乐播放器应用（Python 项目）">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Tkinter 打砖块游戏（Python 项目）","level":"1.1.31","depth":2,"previous":{"title":"Tkinter 音乐播放器应用（Python 项目）","level":"1.1.30","depth":2,"path":"323.md","ref":"323.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-search","-livereload","-lunr","-fontsettings","highlight","expandable-chapters-small","back-to-top-button","github","code","theme-default"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{"lang":{"eval_rst":"rst","toc":"text"}},"github":{"url":"https://github.com/KittenCN"},"expandable-chapters-small":{},"back-to-top-button":{},"code":{"copyButtons":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Todd Lyu","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"CoderFAN 资料库","gitbook":"*"},"file":{"path":"324.md","mtime":"2022-07-07T12:17:03.000Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-05T04:20:20.399Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-code/plugin.js"></script>
        
    

    </body>
</html>

