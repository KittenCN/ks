
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Regexp · CoderFAN 资料库</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Todd Lyu">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="es6.html" />
    
    
    <link rel="prev" href="module.html" />
    
    <!-- MathJax 配置：唯一且完整 -->
<script>
    window.MathJax = {
      tex: {
        inlineMath:  [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']],
        processEscapes: true,
        processEnvironments: true,
        strict: "ignore",
        macros: { "\\E":"\\mathbb{E}", "\\Var":"\\operatorname{Var}" }
      },
    };
    </script>
    
    <!-- 核心脚本（defer不阻塞渲染） -->
    <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    
    <!-- 放在 tex-chtml.js 之后 -->
    <script>
    (function () {
      function typeset() {
        if (window.MathJax && MathJax.typesetPromise) {
          MathJax.typesetPromise().catch(console.error);
        }
      }
    
      /* 第一次正文插入 */
      document.addEventListener('DOMContentLoaded', typeset);
    
      /*   关键：等待 gitbook.js 初始化成功   */
      function hookGitBook() {
        if (window.gitbook && gitbook.events) {
          gitbook.events.bind('page.change', typeset);   // 切章排版
        } else {
          /* gitbook.js 还没加载完 → 100 ms 后再试 */
          setTimeout(hookGitBook, 100);
        }
      }
      hookGitBook();   // 启动递归等待
    })();
    </script>
    
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                <a href=".." class="btn"><b></b>&#128512;返回上层&#128512;</b></a>
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    前端汇总
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="css.html">
            
                <a href="css.html">
            
                    
                    CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="html.html">
            
                <a href="html.html">
            
                    
                    Html
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="http.html">
            
                <a href="http.html">
            
                    
                    Http
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="javascript.html">
            
                <a href="javascript.html">
            
                    
                    Javascript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="array.html">
            
                <a href="array.html">
            
                    
                    Array
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="object.html">
            
                <a href="object.html">
            
                    
                    Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="module.html">
            
                <a href="module.html">
            
                    
                    Module
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.1.8" data-path="regexp.html">
            
                <a href="regexp.html">
            
                    
                    Regexp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9" data-path="es6.html">
            
                <a href="es6.html">
            
                    
                    ES6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.10" data-path="design.html">
            
                <a href="design.html">
            
                    
                    设计模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11" data-path="fp.html">
            
                <a href="fp.html">
            
                    
                    函数编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12" data-path="typescript.html">
            
                <a href="typescript.html">
            
                    
                    Typescript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13" data-path="react.html">
            
                <a href="react.html">
            
                    
                    React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14" data-path="vue.html">
            
                <a href="vue.html">
            
                    
                    Vue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15" data-path="webpack.html">
            
                <a href="webpack.html">
            
                    
                    Webpack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16" data-path="vite.html">
            
                <a href="vite.html">
            
                    
                    Vite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.17" data-path="babel.html">
            
                <a href="babel.html">
            
                    
                    Babel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Regexp</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="正则表达式">正则表达式</h1>
<p><strong>正则表达式：</strong> 又称规则表达式。（英语：Regular Expression，在代码中常简写为 regex、regexp 或 RE），计算机科学的一个概念。正则表达式通常被用来检索、替换那些符合某个模式(规则)的文本。</p>
<h2 id="基本元字符">基本元字符</h2>
<ol>
<li>.： 匹配除了换行符之外的任何单个字符</li>
<li>\ ： 在非特殊字符之前的反斜杠表示下一个字符是特殊的，不能从字面上解释。例如，没有前\的'b'通常匹配小写'b'，无论它们出现在哪里。如果加了'\',这个字符变成了一个特殊意义的字符，反斜杠也可以将其后的特殊字符，转义为字面量。例如，模式 /a<em>/ 代表会匹配 0 个或者多个 a。相反，模式 /a\</em>/ 将 '<em>' 的特殊性移除，从而可以匹配像 "a\</em>" 这样的字符串。</li>
<li>| ： 逻辑或操作符</li>
<li>[] ：定义一个字符集合，匹配字符集合中的一个字符，在字符集合里面像 .，\这些字符都表示其本身,(（）: 多字节 不可转义 []:单字节 可转义)</li>
<li><sup><a href="#fn_" id="reffn_"></a></sup>：对上面一个集合取非</li>
<li><ul>
<li>：定义一个区间，例如[A-Z]，其首尾字符在 ASCII 字符集里面</li>
</ul>
</li>
</ol>
<h2 id="数量元字符">数量元字符</h2>
<ol>
<li>{m,n} ：匹配前面一个字符至少 m 次至多 n 次重复，还有{m}表示匹配 m 次，{m,}表示至少 m 次</li>
<li>+ ： 匹配前面一个表达式一次或者多次，相当于 {1,}，记忆方式追加(+)，起码得有一次</li>
<li>* ： 匹配前面一个表达式零次或者多次，相当于 {0,}，记忆方式乘法(*)，可以一次都没有</li>
<li>? ： 单独使用匹配前面一个表达式零次或者一次，相当于 {0,1}，记忆方式，有吗？，有(1)或者没有(1)，如果跟在任何量词*,+,?,{}后面的时候将会使量词变为非贪婪模式（尽量匹配少的字符），默认是使用贪婪模式。比如对 "123abc" 应用 /\d+/ 将会返回 "123"，如果使用 /\d+?/,那么就只会匹配到 "1"。</li>
</ol>
<h2 id="位置元字符">位置元字符</h2>
<ol>
<li>^ ： 单独使用匹配表达式的开始</li>
<li>$ ： 匹配表达式的结束</li>
<li>\b：匹配单词边界</li>
<li>\B：匹配非单词边界</li>
<li>(?=p)：匹配 p 前面的位置</li>
<li>(?!p)：匹配不是 p 前面的位置</li>
</ol>
<p>!&gt;注：使用 “m“，”^” 和 “$” 将会从只匹配正则字符串的开头或结尾，变为匹配字符串中任一行的开头或结尾。</p>
<h2 id="特殊元字符">特殊元字符</h2>
<ol>
<li>\d：[0-9]，表示一位数字，记忆方式 digit</li>
<li>\D：<sup><a href="#fn_0-9" id="reffn_0-9">0-9</a></sup>，表示一位非数字</li>
<li>\s：[\t\v\n\r\f]，表示空白符，包括空格，水平制表符（\t），垂直制表符（\v），换行符（\n），回车符（\r），换页符（\f），记忆方式 space character</li>
<li>\S：<sup><a href="#fn_%5Ct%5Cv%5Cn%5Cr%5Cf" id="reffn_\t\v\n\r\f">\t\v\n\r\f</a></sup>，表示非空白符</li>
<li>\w：[0-9a-zA-Z_]，表示数字大小写字母和下划线，记忆方式 word</li>
<li>\W：<sup><a href="#fn_0-9a-za-z" id="reffn_0-9a-za-z">0-9a-za-z</a></sup>，表示非单词字符</li>
</ol>
<h2 id="标志字符">标志字符</h2>
<ol>
<li>g : 全局搜索 记忆方式 global</li>
<li>i ：不区分大小写 记忆方式 ignore</li>
<li>m ：多行搜索</li>
</ol>
<pre><code class="lang-javascript">() :优先
</code></pre>
<h2 id="贪婪懒惰">贪婪懒惰</h2>
<p>!&gt;正则默认是贪婪模式 量词后面加 <code>?</code> 是懒惰模式</p>
<h2 id="正则分组">正则分组</h2>
<h3 id="正则分组作用：">正则分组作用：</h3>
<ol>
<li>改变优先级</li>
<li>分组引用</li>
<li>分组捕获</li>
</ol>
<h3 id="改变优先级">改变优先级</h3>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^x|y$/</span>;
<span class="hljs-keyword">var</span> regg = <span class="hljs-regexp">/^(x|y)$/</span>;
<span class="hljs-keyword">var</span> str = <span class="hljs-string">'x1'</span>;
reg.test(str); <span class="hljs-comment">// true,这里其实匹配以x开头或者以y结尾</span>
regg.test(str); <span class="hljs-comment">// false,这里其实匹配x或者y</span>
</code></pre>
<h3 id="分组引用">分组引用</h3>
<p>\2. 表示第二个分组,\1 表示第一个分组,但是\2 必须在出现在第二个分组的后面,因为只有知道第二个分组是,我才知道\2 是啥
这里特别注意,\2 的内容和第二个分组的内容必须一模一样</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/(\d)([a-z])\1([A-Z])\2/</span>;
<span class="hljs-comment">// 这里有3个分组,\1可以等价于(\d)所表示的值,也就\d表示2,那么\1也就只能是2而不能是3</span>

<span class="hljs-keyword">var</span> str = <span class="hljs-string">'4a4Aa'</span>;
<span class="hljs-keyword">var</span> str1 = <span class="hljs-string">'4a3Aa'</span>;
reg.test(str); <span class="hljs-comment">// true</span>
reg.test(str); <span class="hljs-comment">// false 这里的\1只能是4</span>
</code></pre>
<h3 id="分组捕获">分组捕获</h3>
<p>正则捕获的时候不仅把大正则匹配的内容捕获到还能把小正则的内容捕获到还有一个规则要记得,(?:)在分组中?:的意思是只匹配不捕获,注意的是如果用了这个,表示这个分组就不会产生引用</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/(\d)(?:[a-z])([A-Z])\2/</span>;
<span class="hljs-comment">// 这里的第二个分组用了?:,所以不产生引用,也就\2表示第三个分组([A-Z])</span>
reg.test(<span class="hljs-string">'1aAA'</span>); <span class="hljs-comment">// true</span>
reg.test(<span class="hljs-string">'1aAa'</span>); <span class="hljs-comment">// false</span>

<span class="hljs-comment">//exec</span>
<span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/(\d)(?:[a-z])([A-Z])\2/</span>;
reg.exec(<span class="hljs-string">'1aAA'</span>); <span class="hljs-comment">// ["1aAA", "1", "A"]</span>
<span class="hljs-comment">//第一项表示大正则,接下来就是小正则也就是小分组的内容</span>
<span class="hljs-string">'1aAA'</span>.match(reg); <span class="hljs-comment">// ["1aAA"]</span>
<span class="hljs-comment">// 也就是match只能匹配大正则的内容</span>

/(\d)(?:[a-z])([A-Z](<span class="hljs-number">0</span>))\<span class="hljs-number">2</span>(p)/.exec(<span class="hljs-string">'1aA0A0p'</span>); <span class="hljs-comment">// ["1aA0A0p", "1", "A0", "0", "p"]</span>
<span class="hljs-comment">// 有小括号a套小括号b的时候,会先小括号a,然后再小括号里的小括号b,小括号a里面的完结之后才到下一个分组</span>
</code></pre>
<h2 id="前瞻后顾">前瞻后顾</h2>
<p>要理解?=和?!，首先需要理解前瞻，后顾，负前瞻，负后顾四个概念：</p>
<pre><code> 前瞻： exp1(?=exp2) 查找 exp2 前面的 exp1
 后顾： (?&lt;=exp2)exp1 查找 exp2 后面的 exp1
 负前瞻: exp1(?!exp2) 查找后面不是 exp2 的 exp1
 负后顾: (?&lt;!exp2)exp1 查找前面不是 exp2 的 exp1
</code></pre><pre><code class="lang-javascript"><span class="hljs-string">'中国人'</span>.replace(<span class="hljs-regexp">/(?&lt;=中国)人/</span>, <span class="hljs-string">'rr'</span>); <span class="hljs-comment">// 匹配中国人中的人，将其替换为rr，结果为 中国rr</span>
<span class="hljs-string">'法国人'</span>.replace(<span class="hljs-regexp">/(?&lt;=中国)人/</span>, <span class="hljs-string">'rr'</span>); <span class="hljs-comment">// 结果为 法国人，因为人前面不是中国，所以无法匹配到</span>
</code></pre>
<h3 id="">?:</h3>
<p>比较(X)和(?:X)，前者是捕获分组，后者不捕获，区别在于正则表达式匹配输入字符串之后所获得的匹配的（数）组当中没有(?:X)匹配的部分；</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> mn = <span class="hljs-string">'abcabc'</span>.match(<span class="hljs-regexp">/(?:a)(b)(c)/</span>); <span class="hljs-comment">//结果 ["abc", "b", "c"]</span>
<span class="hljs-keyword">var</span> mq = <span class="hljs-string">'abcabc'</span>.match(<span class="hljs-regexp">/(a)(b)(c)/</span>); <span class="hljs-comment">//结果 ["abc", "a", "b", "c"]</span>
</code></pre>
<h2 id="常见的正则">常见的正则</h2>
<pre><code class="lang-javascript">/[\u4E00-\u9FA5]/ :匹配中文
/^<span class="hljs-number">1</span>[<span class="hljs-number">35789</span>]\d{<span class="hljs-number">9</span>}$/ :匹配手机号
/<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">img.+?src=["']?.+?["']?.*?[\</span>/]?&gt;</span>/gi :匹配图片
/<span class="hljs-tag">&lt;<span class="hljs-title">\</span>/?(<span class="hljs-attribute">style</span>|<span class="hljs-attribute">script</span>|<span class="hljs-attribute">i</span>?<span class="hljs-attribute">frame</span>)(<span class="hljs-attribute">.</span>|\<span class="hljs-attribute">n</span>)*&gt;</span>/gi    ：防止srcl注入
^[\u4e00-\u9fa5]{0,}$ ：汉字
^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$：英文和数字：
^.{3,20}$ ： 长度为3-20的所有字符
^[A-Za-z]+$：由26个英文字母组成的字符串
^[A-Z]+$：由26个大写英文字母组成的字符串
^[a-z]+$：由26个小写英文字母组成的字符串
^[A-Za-z0-9]+$：由数字和26个英文字母组成的字符串
^\w+$ 或 ^\w{3,20}$：由数字、26个英文字母或者下划线组成的字符串
^[\u4E00-\u9FA5A-Za-z0-9_]+$：中文、英文、数字包括下划线
^[\u4E00-\u9FA5A-Za-z0-9]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$：中文、英文、数字但不包括下划线等符号
[^%&amp;',;=?$\x22]+：可以输入含有^%&amp;',;=?$\"等字符
[^~\x22]+：禁止输入含有~的字符
</span></code></pre>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="module.html" class="navigation navigation-prev " aria-label="Previous page: Module">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="es6.html" class="navigation navigation-next " aria-label="Next page: ES6">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Regexp","level":"1.1.8","depth":2,"next":{"title":"ES6","level":"1.1.9","depth":2,"path":"es6.md","ref":"es6.md","articles":[]},"previous":{"title":"Module","level":"1.1.7","depth":2,"path":"module.md","ref":"module.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-search","-livereload","-lunr","-fontsettings","highlight","expandable-chapters-small","back-to-top-button","github","code","theme-default"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{"lang":{"eval_rst":"rst","toc":"text"}},"github":{"url":"https://github.com/KittenCN"},"expandable-chapters-small":{},"back-to-top-button":{},"code":{"copyButtons":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Todd Lyu","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"CoderFAN 资料库","gitbook":"*"},"file":{"path":"regexp.md","mtime":"2024-01-02T00:10:56.063Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-05T04:18:22.048Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-code/plugin.js"></script>
        
    

    </body>
</html>

