
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Npm · CoderFAN 资料库</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Todd Lyu">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="selfnpm.html" />
    
    
    <link rel="prev" href="charles.html" />
    
    <!-- MathJax 配置：唯一且完整 -->
<script>
    window.MathJax = {
      tex: {
        inlineMath:  [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']],
        processEscapes: true,
        processEnvironments: true,
        strict: "ignore",
        macros: { "\\E":"\\mathbb{E}", "\\Var":"\\operatorname{Var}" }
      },
    };
    </script>
    
    <!-- 核心脚本（defer不阻塞渲染） -->
    <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    
    <!-- 放在 tex-chtml.js 之后 -->
    <script>
    (function () {
      function typeset() {
        if (window.MathJax && MathJax.typesetPromise) {
          MathJax.typesetPromise().catch(console.error);
        }
      }
    
      /* 第一次正文插入 */
      document.addEventListener('DOMContentLoaded', typeset);
    
      /*   关键：等待 gitbook.js 初始化成功   */
      function hookGitBook() {
        if (window.gitbook && gitbook.events) {
          gitbook.events.bind('page.change', typeset);   // 切章排版
        } else {
          /* gitbook.js 还没加载完 → 100 ms 后再试 */
          setTimeout(hookGitBook, 100);
        }
      }
      hookGitBook();   // 启动递归等待
    })();
    </script>
    
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                <a href=".." class="btn"><b></b>&#128512;返回上层&#128512;</b></a>
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    工具集合
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="browser.html">
            
                <a href="browser.html">
            
                    
                    浏览器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="chrome.html">
            
                <a href="chrome.html">
            
                    
                    Chrome
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="git.html">
            
                <a href="git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="ssh.html">
            
                <a href="ssh.html">
            
                    
                    SSH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="charles.html">
            
                <a href="charles.html">
            
                    
                    Charles
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.1.6" data-path="npm.html">
            
                <a href="npm.html">
            
                    
                    Npm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="selfnpm.html">
            
                <a href="selfnpm.html">
            
                    
                    Npm 私服
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="sublime.html">
            
                <a href="sublime.html">
            
                    
                    Sublime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9" data-path="docsify.html">
            
                <a href="docsify.html">
            
                    
                    docsify
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Npm</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h2 id="npm">npm</h2>
<div align="center">

  <img src="tool/img/npm.jpeg" width="200" alt="logo" align="center"></img>
</div>

<p>NPM 的全称是 Node Package Manager，是随同 NodeJS 一起安装的包管理和分发工具，它很方便让 JavaScript 开发者下载、安装、上传以及管理已经安装的包</p>
<h4 id="常用命令">常用命令</h4>
<p>可以用下面的命令去修改默认配置：</p>
<pre><code class="lang-bash">npm config <span class="hljs-built_in">set</span> init.author.email <span class="hljs-string">"xxx@xxx.com"</span> //设置 package.js email
npm config <span class="hljs-built_in">set</span> init.author.name <span class="hljs-string">"xxx"</span>
npm config <span class="hljs-built_in">set</span> init.author.url <span class="hljs-string">"http://github.com/xxx"</span>
npm config <span class="hljs-built_in">set</span> init.license <span class="hljs-string">"MIT"</span>
npm config <span class="hljs-built_in">set</span> init.version <span class="hljs-string">"0.1.0"</span>
npm cache clean <span class="hljs-operator">-f</span> 清除缓存
</code></pre>
<p>?&gt; npm config get cache 对于一个依赖包的同一版本进行本地化缓存，当代依赖包管理工具的一个常见设计</p>
<p>让多个 npm script 串行</p>
<pre><code class="lang-bash"> <span class="hljs-string">"test"</span>: <span class="hljs-string">"npm run lint:js &amp;&amp; npm run lint:css &amp;&amp; npm run lint:json &amp;&amp; npm run lint:markdown "</span>
</code></pre>
<p>从输出可以看到子命令的执行顺序是严格按照我们在 scripts 中声明的先后顺序来的 eslint ==&gt; stylelint ==&gt; jsonlint ==&gt; markdownlint</p>
<p>多个 npm script 并行</p>
<pre><code class="lang-bash"> <span class="hljs-string">"test"</span>: <span class="hljs-string">"npm run lint:js &amp; npm run lint:css &amp; npm run lint:json &amp; npm run lint:markdown &amp; mocha tests/"</span>
</code></pre>
<p>npm run lint:js 的结果在进程退出之后才输出，如果你自己运行，不一定能稳定复现这个问题，但 npm 内置支持的多条命令并行跟 js 里面同时发起多个异步请求非常类似，它只负责触发多条命令，而不管结果的收集，如果并行的命令执行时间差异非常大，上面的问题就会稳定复现</p>
<pre><code class="lang-bash"> npm run lint:js &amp; npm run lint:css &amp; npm run lint:json &amp; npm run lint:markdown &amp; mocha tests/ &amp; <span class="hljs-built_in">wait</span>
</code></pre>
<p>原生方式来运行多条命令很臃肿，幸运的是，我们可以使用 npm-run-all 实现更轻量和简洁的多命令运行</p>
<pre><code class="lang-bash">npm i npm-run-all -D

<span class="hljs-string">"mocha"</span>: <span class="hljs-string">"mocha tests/"</span>,
<span class="hljs-string">"test"</span>: <span class="hljs-string">"npm-run-all lint:js lint:css lint:json lint:markdown mocha"</span>

npm-run-all 还支持通配符匹配分组的 npm script
<span class="hljs-string">"test"</span>: <span class="hljs-string">"npm-run-all lint:* mocha"</span>

多个 npm script 并行执行
<span class="hljs-string">"test"</span>: <span class="hljs-string">"npm-run-all --parallel lint:* mocha"</span>
</code></pre>
<h4 id="npm-scripts-的生命周期管理">npm scripts 的生命周期管理</h4>
<p>prepublish：在模块被发布前，其实在你安装本地包也会触发
publish, postpublish：在发布后执行
preinstall：模块被安装前执行
install, postinstall：模块安装后
preuninstall, uninstall：模块被卸载前执行
postuninstall：模块卸载后执行
preversion, version：获取版本号前执行
ostversion：获取版本号之后执行
pretest, test, posttest：执行 test 脚本时会执行
prestop, stop, poststop：在脚本结束时执行
prestart, start, poststart：调用 start 时执行
prerestart, restart, postrestart：在执行 restart 时会调用
restart 脚本比较特殊，如果你设置了 restart 脚本则只会执行：prerestart, restart, postrestart，但是如果你没有设置 restart，则会执行 stop，start 脚本。</p>
<pre><code class="lang-javascript"><span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"pretest"</span> : <span class="hljs-string">"echo \" this is pre test \""</span>,
    <span class="hljs-string">"test"</span> : <span class="hljs-string">"echo \" this is test \""</span>,
    <span class="hljs-string">"posttest"</span> : <span class="hljs-string">"echo \" this is post test \""</span>,
​
    <span class="hljs-string">"prerestart"</span> : <span class="hljs-string">"echo \" this is pre restart \""</span>,
    <span class="hljs-string">"restart"</span> : <span class="hljs-string">"echo \" this is restart \""</span>,
    <span class="hljs-string">"postrestart"</span> : <span class="hljs-string">"echo \" this is post restart \""</span>,

    <span class="hljs-string">"prestop"</span> : <span class="hljs-string">"echo \" this is pre stop \""</span>,
    <span class="hljs-string">"stop"</span> : <span class="hljs-string">"echo \" this is stop \""</span>,
    <span class="hljs-string">"poststop"</span> : <span class="hljs-string">"echo \" this is post stop \""</span>,
​
    <span class="hljs-string">"prestart"</span> : <span class="hljs-string">"echo \" this is pre start \""</span>,
    <span class="hljs-string">"start"</span> : <span class="hljs-string">"echo \" this is start \""</span>,
    <span class="hljs-string">"poststart"</span> : <span class="hljs-string">"echo \" this is post start \""</span>,
​
    <span class="hljs-string">"preinstall"</span> : <span class="hljs-string">"echo \" this is pre install \""</span>,
    <span class="hljs-string">"install"</span> : <span class="hljs-string">"echo \" this is install \""</span>,
    <span class="hljs-string">"postinstall"</span> : <span class="hljs-string">"echo \" this is post install \""</span>,
​
    <span class="hljs-string">"prepublish"</span> : <span class="hljs-string">"echo \" this is pre install \""</span>,
    <span class="hljs-string">"publish"</span> : <span class="hljs-string">"echo \" this is publish \""</span>,
    <span class="hljs-string">"postpublish"</span> : <span class="hljs-string">"echo \" this is post install \""</span>,
​
    <span class="hljs-string">"preuninstall"</span> : <span class="hljs-string">"echo \" this is pre uninstall \""</span>,
    <span class="hljs-string">"uninstall"</span> : <span class="hljs-string">"echo \" this is uninstall \""</span>,
    <span class="hljs-string">"postuninstall"</span> : <span class="hljs-string">"echo \" this is post uninstall \""</span>,

    <span class="hljs-string">"prebuild"</span> : <span class="hljs-string">"echo \" this is pre build \""</span>,
    <span class="hljs-string">"build"</span> : <span class="hljs-string">"echo \" this is build \""</span>,
    <span class="hljs-string">"postbuild"</span> : <span class="hljs-string">"echo \" this is post build \""</span>
  },
</code></pre>
<h3 id="npm-不同版本处理方式也不同，同一个项目，npm-版本最好保持一致">npm 不同版本处理方式也不同，同一个项目，npm 版本最好保持一致</h3>
<ol>
<li>npm v5.0.x 根据 package-lock.json 下载</li>
<li>npm v5.1.0-npm v5.4.2 当 package.json
声明的依赖版本规范有符合的更新版本时，忽略 package-lock.json,按照 package.json 安装，并更新 package-lock.json</li>
<li>npm v5.4.2 以上 ，当 package.json 声明的依赖版本规范与 package-lock.json 安装版本兼容时，则根据 package-lock.json 安装；如果不兼容，按照 package.json 安装，并更新 package-lock.json</li>
</ol>
<p>?&gt; 每次安装资源时，根据 package-lock.json 中存储的 integrity、version、name 信息生成唯一的 key 设置默认 npm init 属性</p>
<h5 id="npm-script-运行时日志">npm script 运行时日志</h5>
<h5 id="显示尽可能少的有用信息">显示尽可能少的有用信息</h5>
<p>调用 npm script 的时候比较有用，需要使用 --loglevel silent，或者 --silent，或者更简单的 -s 来控制</p>
<h5 id="显示尽可能多的运行时状态">显示尽可能多的运行时状态</h5>
<p>需要使用 --loglevel verbose，或者 --verbose，或者更简单的 -d 来控制
peerDependencies:但是如果是组件（前端组件或后端组件都包含）依赖一些框架或比较大型的包，可以考虑放</p>
<h5 id="代码检查自动格式化">代码检查自动格式化</h5>
<p>我们使用的代码检查工具 stylelint、eslint、jsonlint 不全支持 watch 模式，这里我们需要借助 onchange 工具包来实现，onchange 可以方便的让我们在文件被修改、添加、删除时运行需要的命令。</p>
<pre><code class="lang-code">npm i onchange -D
 "watch": "npm-run-all --parallel watch:*",
 "watch:lint": "onchange -i \"**/*.js\" \"**/*.less\" -- npm run lint",
"watch:test": "npm t -- --watch",
</code></pre>
<p>watch:lint 里面的文件匹配模式可以使用通配符，但是模式两边使用了转义的双引号，这样是跨平台兼容的；
watch:lint 里面的 -i 参数是让 onchange 在启动时就运行一次 -- 之后的命令，即代码没变化的时候，变化前后的对比大多数时候还是有价值的；
watch 命令实际上是使用了 npm-run-all 来运行所有的 watch 子命令；</p>
<p>有没有好奇过 onchange 是怎么实现文件系统监听的？所有的魔法都藏在它的源代码里面，实际上它使用了跨平台的文件系统监听包 chokidar，基于它，你能做点什么有意思的事情呢？</p>
<pre><code class="lang-bash">npm install 安装模块
npm uninstall 卸载模块
npm update 更新模块
npm outdated 检查模块是否已经过时
npm ls 查看安装的模块
npm init 在项目中引导创建一个package.json文件
npm <span class="hljs-built_in">help</span> 查看某条命令的详细帮助
npm root 查看包的安装路径
npm root -g  //npm安装目录
npm config 管理npm的配置路径
npm config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org //设置淘宝源
npm config get cache //npm的缓存目录
npm config get prefix //npm的安装全局node包地址
npm list -g --depth <span class="hljs-number">0</span> //npm 全局安装的包列表
npm config edit //编辑配置文件
npm config list //查看npm配置信息
npm cache 管理模块的缓存
npm cache clean <span class="hljs-operator">-f</span> //npm清除缓存
npm start 启动模块
npm stop 停止模块
npm restart 重新启动模块
npm <span class="hljs-built_in">test</span> 测试模块
npm version 查看模块版本
npm view 查看模块的注册信息‘
npm view moudleName dependencies：查看包的依赖关系
npm view moduleName repository.url：查看包的源文件地址
npm view moduleName engines：查看包所依赖的Node的版本
npm adduser  用户登录
npm publish 发布模块
npm access 在发布的包上设置访问级别
npm link：将会在全局包下面创建一个指向命令执行的地方的符号链接
</code></pre>
<h2 id="npm-发布自己的包">npm 发布自己的包</h2>
<pre><code class="lang-bash">npm install [name]   //检查npm 是否存在
</code></pre>
<p>如果没有 新建一个 [name] 的文件夹</p>
<pre><code class="lang-bash"><span class="hljs-built_in">cd</span>  [name]
npm init  -y
</code></pre>
<p>进入 package.json 文件</p>
<pre><code class="lang-json"> <span class="hljs-string">"name"</span>: <span class="hljs-string">"name"</span>, <span class="hljs-comment">//必填项目名称</span>
 <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.0.1"</span> <span class="hljs-comment">//必填版本信息</span>
 <span class="hljs-string">"repository"</span>: { <span class="hljs-comment">//关联github 的库</span>
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"git"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"git@github.com:****/**.git"</span>
  },
dependencies：{},<span class="hljs-comment">//项目依赖</span>
devDependencies:{},<span class="hljs-comment">//开发依赖</span>
peerDependencies:{},<span class="hljs-comment">//同版本依赖</span>
bundledDependencies:{},<span class="hljs-comment">//捆绑依赖 指定依赖包必须在dependencies或devDependencies声明过，否则npm pack阶段会进行报错</span>
optionalDependencies:{},<span class="hljs-comment">//可选依赖</span>
</code></pre>
<p>?&gt; npm 遵循 SemVer 版本规范</p>
<p>登录 npm</p>
<pre><code class="lang-bash"> npm login //输入用户名、密码和邮箱
</code></pre>
<p>更新 npm 包 修改 package.json 文件夹中的 version 版本信息 执行以下命令</p>
<pre><code class="lang-bash"> npm publish
</code></pre>
<p>利用 npm 撤销发布包</p>
<pre><code class="lang-bash"> npm unpublish 包名
</code></pre>
<h4 id="npm-配置作用优先级">npm 配置作用优先级</h4>
<pre><code class="lang-json">命令行设置 npm 设置=》env 环境变量设置 npm 配置=》项目级.npmrc =》用户级.npmrc =》全局级.npmrc=》npm 内置的.npmrc
</code></pre>
<h4 id="构建私有镜像">构建私有镜像</h4>
<ol>
<li>nexus</li>
<li>verdaccio</li>
<li>Sinopia</li>
<li>cnpm</li>
</ol>
<h2 id="nvm">nvm</h2>
<p><a href="https://github.com/nvm-sh/nvm" target="_blank">nvm</a> 是一个可以让你在同一台机器上安装和切换不同版本的 node 管理工具</p>
<p>!&gt; nvm 不支持 Windows 环境</p>
<pre><code class="lang-bash">npm  install   -g   nvm //安装nvm
nvm install <span class="hljs-comment">##  //安装指定node版本，可模糊安装，如：安装v6.2.0，既可nvm install v6.2.0，又可nvm install 6.2</span>
nvm uninstall <span class="hljs-comment">## //删除已安装的指定版本，语法与install类似</span>
nvm use <span class="hljs-comment">## //切换使用指定的版本node</span>
nvm ls <span class="hljs-comment">## //列出所有安装的版本</span>
nvm ls-remote <span class="hljs-comment">## //列出所以远程服务器的版本（官方node version list）</span>
nvm current <span class="hljs-comment">## //显示当前的版本</span>
nvm <span class="hljs-built_in">alias</span> <span class="hljs-comment">## //给不同的版本号添加别名</span>
nvm <span class="hljs-built_in">unalias</span> <span class="hljs-comment">## //删除已定义的别名</span>
nvm <span class="hljs-built_in">alias</span> default <span class="hljs-comment">## //全局设置默认版本</span>
nvm reinstall-packages <span class="hljs-comment">## //在当前版本node环境下，重新全局安装指定版本号的npm包</span>
</code></pre>
<h2 id="n">n</h2>
<p><a href="https://github.com/tj/n" target="_blank">n</a> 是一个可以让你在同一台机器上安装和切换不同版本 node 的工具</p>
<p><img src="img/n.gif" alt=""></img></p>
<pre><code class="lang-bash">npm install -g n
n --help //查看帮助
n ls  //查看可用的Node版本
n <span class="hljs-number">8.10</span>.<span class="hljs-number">3</span> //安装指定版本
n latest //安装最新的版本
n stable //安装稳定版本
n rm <span class="hljs-number">8.10</span>.<span class="hljs-number">1</span> //删除某个版本
n use <span class="hljs-number">8.10</span>.<span class="hljs-number">21</span> index.js //以指定的版本来执行脚本
npm -g outdated //查看npm可更新的版本
</code></pre>
<h2 id="nrm-自由切换-npm-源">nrm 自由切换 npm 源</h2>
<p><a href="https://github.com/Pana/nrm" target="_blank">nrm</a>(npm registry manager )是 npm 的镜像源管理工具,允许你在不同的 npm 源自由切换</p>
<pre><code class="lang-bash">nrm <span class="hljs-built_in">help</span>　 查看nrm帮助
nrm ls  列出可用的源
nrm current 查看当前使用的源
nrm use [name] 选择国内淘宝的源
nrm home [name]　　跳转到指定源的官网
nrm <span class="hljs-built_in">test</span> [name] 测试速度
nrm add [name]  [url]  添加源
nrm del  [name] 删除对应的源
</code></pre>
<h2 id="npx">npx</h2>
<p><a href="https://github.com/npm/npx" target="_blank">npm</a> v5.2.0 引入的一条命令（npx），npx 会帮你执行依赖包里的二进制文件。引入这个命令的目的是为了提升开发者使用包内提供的命令行工具的体验</p>
<p>全局安装 parcel，但有时不同项目使用不同版本，不允许使用全局包，只能考虑下面一些方法
使用 npm scripts，在 package.json 加一个 script ,将 node_modules 的可执行目录加到 PATH 中.指定可执行命令路径</p>
<p>当我们执行 npx parcel index.html 时，会自动去./node_modules/.bin 目录下搜索。</p>
<pre><code class="lang-code">old:
npm install -g create-react-app
create-react-app my-app
new:
npx create-react-app my-app
</code></pre>
<!--
## rpm

> RPM 软件包管理器

```code
 rpm －e xv
 RPM 的常用参数还包括：
 －vh：显示安装进度；
 －U：升级软件包；
 －qpl：列出 RPM 软件包内的文件信息；
 －qpi：列出 RPM 软件包的描述信息；
 －qf：查找指定文件属于哪个 RPM 软件包；
 －Va：校验所有的 RPM 软件包，查找丢失的文件；
 －qa: 查找相应文件，如 rpm -qa mysql
 RPM 主要功能
 安装、卸载、升级和管理软件
 组件查询功能
 验证功能
 软件包 GPG 和 MD5 数字签名的导入、验证和发布
 软件包依赖处理
 选择安装
 网络远程安装功能
 rpm 命令：遵循 GPL 协议且功能强大的包管理，它可以建立、安装、请求、确认、和卸载软件包。间接的提升了 Linux 的易用性
 -e 卸载 rpm 包
 -q 查询已安装的软件信息
 -i 安装 rpm 包
 -u 升级 rpm 包
 --replacepkgs 重新安装 rpm 包
 --justdb 升级数据库，不修改文件系统
 --percent 在软件包安装时输出百分比
 --help 帮助
 --version 显示版本信息
 -c 显示所有配置文件
 -d 显示所有文档文件
 -h 显示安装进度
 -l 列出软件包中的文件
 -a 显示出文件状态
 -p 查询/校验一个软件包文件
 -v 显示详细的处理信息
 --dump 显示基本文件信息
 --nomd5 不验证文件的 md5 支持
 --nofiles 不验证软件包中的文件
 --nodeps 不验证软件包的依赖关系
 --whatrequires 查询/验证需要一个依赖性的软件包
 --whatprovides 查询/验证提供一个依赖性的软件包
```

>     范例 1：安装软件

```code
[root@hnlinux lx1 3 8.c o m]# rpm -hvi dejagnu-1.4.2-10.noarch.rpm
　　警告：dejagnu-1.4.2-10.noarch.rpm: V3 DSA 签名：NOKEY, key ID db42a60e
　　准备...
　　########################################### [100%]
　　范例 2： 显示软件安装信息
　　[root@hnlinux lx1 3 8.c o m]# rpm -qi dejagnu-1.4.2-10.noarch.rpm
```

onchange: 监听指定的目录，在源文件有更改的时候，

```code
"scripts": {
"watch": "onchange \"src/**/\*.js\" \"src/**/\*.less\" -- npm run dev"
}
```

另外敏捷开发过程中，代码复查是至关重要的一环，团队需要使用工具辅助代码分析。经比较和实践后，使用工具：
jsinspect： jsinspect 检测前端代码库中的重复/近似代码
jsinspect 工具支持 js 和 jsx 格式的文件，基于抽象语法树，可以检测出结构类似的代码块
jscpd：一个工具用于检测复制/粘贴“设计模式”在编程源代码
jscpd 工具支持文件格式广泛，如 java、oc、js、jsx、vue、ts、less 等。其重复率判定依据为一定长度标识符的 MD5 值是否相同
 -->

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="charles.html" class="navigation navigation-prev " aria-label="Previous page: Charles">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="selfnpm.html" class="navigation navigation-next " aria-label="Next page: Npm 私服">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Npm","level":"1.1.6","depth":2,"next":{"title":"Npm 私服","level":"1.1.7","depth":2,"path":"selfnpm.md","ref":"selfnpm.md","articles":[]},"previous":{"title":"Charles","level":"1.1.5","depth":2,"path":"charles.md","ref":"charles.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-search","-livereload","-lunr","-fontsettings","highlight","expandable-chapters-small","back-to-top-button","github","code","theme-default"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{"lang":{"eval_rst":"rst","toc":"text"}},"github":{"url":"https://github.com/KittenCN"},"expandable-chapters-small":{},"back-to-top-button":{},"code":{"copyButtons":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Todd Lyu","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"CoderFAN 资料库","gitbook":"*"},"file":{"path":"npm.md","mtime":"2025-05-03T00:31:50.155Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-05T04:18:19.099Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-code/plugin.js"></script>
        
    

    </body>
</html>

