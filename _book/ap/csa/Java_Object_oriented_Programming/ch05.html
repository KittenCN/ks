
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>csa Chapter5 Â· CoderFAN èµ„æ–™åº“</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Todd Lyu">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="ch06.html" />
    
    
    <link rel="prev" href="ch04.html" />
    
    <!-- MathJax é…ç½®ï¼šå”¯ä¸€ä¸”å®Œæ•´ -->
<script>
    window.MathJax = {
      tex: {
        inlineMath:  [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']],
        processEscapes: true,
        processEnvironments: true,
        strict: "ignore",
        macros: { "\\E":"\\mathbb{E}", "\\Var":"\\operatorname{Var}" }
      },
    };
    </script>
    
    <!-- æ ¸å¿ƒè„šæœ¬ï¼ˆdeferä¸é˜»å¡æ¸²æŸ“ï¼‰ -->
    <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    
    <!-- æ”¾åœ¨ tex-chtml.js ä¹‹å -->
    <script>
    (function () {
      function typeset() {
        if (window.MathJax && MathJax.typesetPromise) {
          MathJax.typesetPromise().catch(console.error);
        }
      }
    
      /* ç¬¬ä¸€æ¬¡æ­£æ–‡æ’å…¥ */
      document.addEventListener('DOMContentLoaded', typeset);
    
      /*   å…³é”®ï¼šç­‰å¾… gitbook.js åˆå§‹åŒ–æˆåŠŸ   */
      function hookGitBook() {
        if (window.gitbook && gitbook.events) {
          gitbook.events.bind('page.change', typeset);   // åˆ‡ç« æ’ç‰ˆ
        } else {
          /* gitbook.js è¿˜æ²¡åŠ è½½å®Œ â†’ 100 ms åå†è¯• */
          setTimeout(hookGitBook, 100);
        }
      }
      hookGitBook();   // å¯åŠ¨é€’å½’ç­‰å¾…
    })();
    </script>
    
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                <a href=".." class="btn"><b></b>&#128512;è¿”å›ä¸Šå±‚&#128512;</b></a>
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="ch01.html">
            
                <a href="ch01.html">
            
                    
                    csa Chapter1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="ch02.html">
            
                <a href="ch02.html">
            
                    
                    csa Chapter2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="ch03.html">
            
                <a href="ch03.html">
            
                    
                    csa Chapter3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="ch04.html">
            
                <a href="ch04.html">
            
                    
                    csa Chapter4
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6" data-path="ch05.html">
            
                <a href="ch05.html">
            
                    
                    csa Chapter5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="ch06.html">
            
                <a href="ch06.html">
            
                    
                    csa Chapter6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="ch07.html">
            
                <a href="ch07.html">
            
                    
                    csa Chapter7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="ch08.html">
            
                <a href="ch08.html">
            
                    
                    csa Chapter8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="ch09.html">
            
                <a href="ch09.html">
            
                    
                    csa Chapter9
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >csa Chapter5</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="å¤šæ€">å¤šæ€</h1>
<p>æ¥ä¸‹æ¥ï¼Œå¼€å§‹æ¢ç´¢å¤šæ€ç‹å›½å§ï¼ğŸ’–</p>
<h2 id="åˆè¯†å¤šæ€">åˆè¯†å¤šæ€</h2>
<p>è¿™ä¸€å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†é˜è¿°å¤šæ€çš„æ¦‚å¿µã€‚è‹¥å¤§å®¶è§‰å¾—æœ‰äº›æ™¦æ¶©ï¼Œä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå¯ä»¥è¾¹çœ‹è¾¹æ€è€ƒã€‚åœ¨æœ‰äº†è¿™ä¸€å°èŠ‚çš„åˆæ­¥å°è±¡åï¼Œä¸‹ä¸€å°èŠ‚å°†ä¼šå¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£å¤šæ€çš„æ¦‚å¿µã€‚</p>
<p>å¤šæ€(Polymorphism)æ˜¯Javaé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªæ¦‚å¿µã€‚å¤šæ€ï¼ŒåŸæœ¬æŒ‡çš„æ˜¯åœ¨ç”Ÿç‰©å­¦ä¸­ï¼Œä¸€ä¸ªç”Ÿç‰©ä½“æˆ–ç‰©ç§ï¼Œå¯ä»¥æœ‰ä¸åŒçš„å½¢æ€æˆ–å‘è‚²é˜¶æ®µï¼ˆä¾‹å¦‚è´è¶çš„å˜æ€ï¼‰ã€‚<strong>åœ¨Javaä¸­ï¼Œå¤šæ€æŒ‡çš„æ˜¯ï¼ŒåŒä¸€ä¸ªæ–¹æ³•å…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼æˆ–å½¢æ€çš„èƒ½åŠ›ã€‚</strong>
å¤šæ€çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥ä½¿ç¨‹åºæœ‰è‰¯å¥½çš„æ‰©å±•ï¼Œå¹¶å¯ä»¥å¯¹æ‰€æœ‰ç±»çš„å¯¹è±¡è¿›è¡Œé€šç”¨å¤„ç†ã€‚</p>
<p>å¤šæ€çš„æ¦‚å¿µï¼Œä¸å‰ä¸€èŠ‚æˆ‘ä»¬è®²è¿‡çš„<code>æ–¹æ³•é‡å†™</code>æœ‰ç€ç´§å¯†çš„å…³è”ã€‚ä¸€ä¸ªè‡³å°‘åœ¨ä¸€ä¸ªå­ç±»ä¸­è¢«é‡å†™è¿‡çš„æ–¹æ³•ï¼Œå°±è¢«ç§°ä¸ºæ˜¯å¤šæ€çš„æ–¹æ³•ã€‚</p>
<p>å¯¹äºè¢«é‡å†™è¿‡çš„æ–¹æ³•ï¼Œå®ƒä»¬éƒ½å…·æœ‰ç›¸åŒçš„æ–¹æ³•åã€‚é‚£ä¹ˆJavaåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œè¯¥å¦‚ä½•æ˜¯å¥½ï¼ŸJavaæ˜¯ä¾é ä»€ä¹ˆæœºåˆ¶ï¼Œæ¥é€‰æ‹©å…·ä½“è¦æ‰§è¡Œå“ªä¸€ä¸ªæ–¹æ³•çš„å‘¢ï¼Ÿ</p>
<p><strong>åœ¨Javaä¸­ï¼Œæ–¹æ³•è°ƒç”¨æ€»æ˜¯ç”±è°ƒç”¨è¿™ä¸€æ–¹æ³•çš„å¯¹è±¡å®é™…æŒ‡å‘çš„å¯¹è±¡ç±»å‹ï¼ˆä¹Ÿå°±æ˜¯åœ¨<code>new</code>è¯­å¥åç´§è·Ÿç€çš„ç±»å‹ï¼‰ï¼Œè€Œä¸æ˜¯ç”±è¿™ä¸€å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡ç±»å‹ï¼ˆä¹Ÿå°±æ˜¯åœ¨<code>new</code>è¯­å¥ä¸­ï¼Œå®é™…å¯¹è±¡å‰é¢çš„é‚£ä¸ªç±»å‹ï¼‰æ¥å†³å®šçš„ã€‚</strong></p>
<p>ä¾‹å¦‚ï¼Œåœ¨è¯­å¥</p>
<pre><code class="lang-javav">Animal puppy = new Dog();
</code></pre>
<p>ä¸­ï¼Œå®ä¾‹å¯¹è±¡<code>puppy</code>æ‰€å¼•ç”¨çš„ç±»å‹æ˜¯<code>Animal</code>ï¼Œè€Œå…¶å®é™…æŒ‡å‘çš„ç±»å‹åˆ™æ˜¯<code>Dog</code>ã€‚</p>
<p>è¿™ä¸ªæœºåˆ¶ï¼Œå°±å«åšå¤šæ€ã€‚</p>
<p><strong>å¤šæ€æ˜¯ä¸€ä¸ªä¸ºå¤„åœ¨ç±»ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­çš„ç‰¹å®šå¯¹è±¡ï¼Œé€‰æ‹©é€‚å½“çš„æ–¹æ³•çš„æœºåˆ¶ã€‚</strong></p>
<p>æ¥ç»™å¤§å®¶ä¸¾ä¸€ä¸ªä¾‹å­ã€‚è¿™ä¸ªä¾‹å­æ¯”è¾ƒé•¿ï¼Œä½†åœ¨å…¶åæœ‰è¯¦ç»†çš„è§£é‡Šï¼Œä¸è¦æ…Œï¼</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bicycle</span> </span>{

    <span class="hljs-comment">// è¿™ä¸ªè‡ªè¡Œè½¦æœ‰ä¸‰ä¸ªå±æ€§</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> cadence;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> gear;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> speed;

    <span class="hljs-comment">// è¿™ä¸ªè‡ªè¡Œè½¦ç±»æœ‰ä¸€ä¸ªæ„é€ æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Bicycle</span><span class="hljs-params">(<span class="hljs-keyword">int</span> startCadence, <span class="hljs-keyword">int</span> startSpeed, <span class="hljs-keyword">int</span> startGear)</span> </span>{
        gear = startGear;
        cadence = startCadence;
        speed = startSpeed;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printDescription</span><span class="hljs-params">()</span></span>{
        System.out.println(<span class="hljs-string">"\nBike is "</span> + <span class="hljs-string">"in gear "</span> + <span class="hljs-keyword">this</span>.gear
        + <span class="hljs-string">" with a cadence of "</span> + <span class="hljs-keyword">this</span>.cadence +
        <span class="hljs-string">" and travelling at a speed of "</span> + <span class="hljs-keyword">this</span>.speed + <span class="hljs-string">". "</span>);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MountainBike</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Bicycle</span> </span>{
    <span class="hljs-keyword">private</span> String suspension;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MountainBike</span><span class="hljs-params">(
               <span class="hljs-keyword">int</span> startCadence,
               <span class="hljs-keyword">int</span> startSpeed,
               <span class="hljs-keyword">int</span> startGear,
               String suspensionType)</span></span>{
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printDescription</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">super</span>.printDescription();
        System.out.println(<span class="hljs-string">"The "</span> + <span class="hljs-string">"MountainBike has a"</span> +
            getSuspension() + <span class="hljs-string">" suspension."</span>);
    }
}


<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RoadBike</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Bicycle</span></span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> tireWidth;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">RoadBike</span><span class="hljs-params">(<span class="hljs-keyword">int</span> startCadence,
                    <span class="hljs-keyword">int</span> startSpeed,
                    <span class="hljs-keyword">int</span> startGear,
                    <span class="hljs-keyword">int</span> newTireWidth)</span></span>{
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printDescription</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">super</span>.printDescription();
        System.out.println(<span class="hljs-string">"The RoadBike"</span> + <span class="hljs-string">" has "</span> + getTireWidth() +
            <span class="hljs-string">" MM tires."</span>);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestBikes</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{
    Bicycle bike01, bike02, bike03;

    bike01 = <span class="hljs-keyword">new</span> Bicycle(<span class="hljs-number">20</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>);
    bike02 = <span class="hljs-keyword">new</span> MountainBike(<span class="hljs-number">20</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-string">"Dual"</span>);
    bike03 = <span class="hljs-keyword">new</span> RoadBike(<span class="hljs-number">40</span>, <span class="hljs-number">20</span>, <span class="hljs-number">8</span>, <span class="hljs-number">23</span>);

    bike01.printDescription();
    bike02.printDescription();
    bike03.printDescription();
  }
}
</code></pre>
<p>ä¸‹é¢è¿›è¡Œæ‹†åˆ†è§£é‡Šã€‚é¦–å…ˆï¼Œå¦‚ä¸‹æ˜¯æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚ä¸­è§è¿‡çš„Bicycleç±»ï¼Œä¸ºäº†å±•ç¤ºå¤šæ€ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ–¹æ³•<code>printDescription</code>ï¼Œæ¥å±•ç¤ºä¸€ä¸ªå¯¹è±¡ï¼ˆè‡ªè¡Œè½¦ï¼‰çš„æ‰€æœ‰å½“å‰å±æ€§ã€‚æœ€ç»ˆ<code>Bicycle</code>ç±»ä¸ºå¦‚ä¸‹ï¼š</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bicycle</span> </span>{

    <span class="hljs-comment">// è¿™ä¸ªè‡ªè¡Œè½¦æœ‰ä¸‰ä¸ªå±æ€§</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> cadence;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> gear;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> speed;

    <span class="hljs-comment">// è¿™ä¸ªè‡ªè¡Œè½¦ç±»æœ‰ä¸€ä¸ªæ„é€ æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Bicycle</span><span class="hljs-params">(<span class="hljs-keyword">int</span> startCadence, <span class="hljs-keyword">int</span> startSpeed, <span class="hljs-keyword">int</span> startGear)</span> </span>{
        gear = startGear;
        cadence = startCadence;
        speed = startSpeed;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printDescription</span><span class="hljs-params">()</span></span>{
        System.out.println(<span class="hljs-string">"\nBike is "</span> + <span class="hljs-string">"in gear "</span> + <span class="hljs-keyword">this</span>.gear
        + <span class="hljs-string">" with a cadence of "</span> + <span class="hljs-keyword">this</span>.cadence +
        <span class="hljs-string">" and travelling at a speed of "</span> + <span class="hljs-keyword">this</span>.speed + <span class="hljs-string">". "</span>);
}
}
</code></pre>
<p>ä¸ºäº†å±•ç¤ºå¤šæ€ï¼Œæˆ‘ä»¬ç”±<code>Bicycle</code>ç±»æ´¾ç”Ÿå‡º<code>MountainBike</code>ç±»ä¸<code>RoadBike</code>ç±»ï¼Œå¹¶åœ¨äºŒè€…ä¸­é‡å†™<code>printDescription</code>æ–¹æ³•ã€‚</p>
<p>åœ¨<code>MountainBike</code>ç±»ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ–°çš„å±æ€§ï¼š<code>suspension</code>ï¼Œæ¥æè¿°å±±åœ°è‡ªè¡Œè½¦çš„æ‚¬æŒ‚ç¼“å†²ç³»ç»Ÿï¼ˆæè¿°è¿™è¾†è½¦æ˜¯å¦æœ‰ä¸€ä¸ªå‰ç¼“å†²ç³»ç»Ÿ<code>Front</code>ï¼Œæˆ–æœ‰ä¸€ä¸ªå‰ç¼“å†²ç³»ç»Ÿå’Œä¸€ä¸ªåç¼“å†²ç³»ç»Ÿ<code>Dual</code>ï¼‰.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MountainBike</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Bicycle</span> </span>{
    <span class="hljs-keyword">private</span> String suspension;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MountainBike</span><span class="hljs-params">(
               <span class="hljs-keyword">int</span> startCadence,
               <span class="hljs-keyword">int</span> startSpeed,
               <span class="hljs-keyword">int</span> startGear,
               String suspensionType)</span></span>{
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printDescription</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">super</span>.printDescription();
        System.out.println(<span class="hljs-string">"The "</span> + <span class="hljs-string">"MountainBike has a"</span> +
            getSuspension() + <span class="hljs-string">" suspension."</span>);
    }
}
</code></pre>
<p>è¯·æ³¨æ„é‡å†™çš„<code>printDescription</code>æ–¹æ³•ã€‚ é™¤äº†ä¹‹å‰æä¾›çš„ä¿¡æ¯ä¹‹å¤–ï¼Œè¾“å‡ºä¸­è¿˜åŒ…æ‹¬æœ‰å…³æ‚¬æŒ‚ç¼“å†²ç³»ç»Ÿçš„å…¶ä»–ä¿¡æ¯ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œåˆ›å»º<code>RoadBike</code>ç±»ã€‚ ç”±äºå…¬è·¯èµ›è½¦æˆ–èµ›è½¦æœ‰è¾ƒç»†çª„çš„è½®èƒï¼Œå› æ­¤æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå±æ€§<code>tireWidth</code>æ¥æè¿°è½®èƒå®½åº¦ã€‚</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RoadBike</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Bicycle</span></span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> tireWidth;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">RoadBike</span><span class="hljs-params">(<span class="hljs-keyword">int</span> startCadence,
                    <span class="hljs-keyword">int</span> startSpeed,
                    <span class="hljs-keyword">int</span> startGear,
                    <span class="hljs-keyword">int</span> newTireWidth)</span></span>{
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printDescription</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">super</span>.printDescription();
        System.out.println(<span class="hljs-string">"The RoadBike"</span> + <span class="hljs-string">" has "</span> + getTireWidth() +
            <span class="hljs-string">" MM tires."</span>);
    }
}
</code></pre>
<p>è¯·æ³¨æ„ï¼Œ<code>printDescription</code>æ–¹æ³•å†æ¬¡è¢«é‡å†™ã€‚ é™¤äº†<code>Bicycle</code>å…·æœ‰çš„å±æ€§å¤–ï¼Œè¿™é‡Œè¿˜æ˜¾ç¤ºæœ‰å…³è½®èƒå®½åº¦çš„ä¿¡æ¯ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬æœ‰ä¸‰ç±»ï¼šçˆ¶ç±»<code>Bicycle</code>ï¼Œä»¥åŠå¹¶åˆ—çš„å­ç±»<code>MountainBike</code>å’Œ<code>RoadBike</code>ã€‚ è¿™ä¸¤ä¸ªå­ç±»é‡å†™<code>printDescription</code>æ–¹æ³•å¹¶æ‰“å°å„è‡ªä¸åŒçš„ä¿¡æ¯ã€‚</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ª<code>TestBikes</code>ç±»è¿›è¡Œæµ‹è¯•ã€‚</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestBikes</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{
    Bicycle bike01, bike02, bike03;

    bike01 = <span class="hljs-keyword">new</span> Bicycle(<span class="hljs-number">20</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>);
    bike02 = <span class="hljs-keyword">new</span> MountainBike(<span class="hljs-number">20</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-string">"Dual"</span>);
    bike03 = <span class="hljs-keyword">new</span> RoadBike(<span class="hljs-number">40</span>, <span class="hljs-number">20</span>, <span class="hljs-number">8</span>, <span class="hljs-number">23</span>);

    bike01.printDescription();
    bike02.printDescription();
    bike03.printDescription();
  }
}
</code></pre>
<p>åˆ™è¿è¡Œç»“æœä¸ºï¼š</p>
<pre><code>Bike is in gear 1 with a cadence of 20 and travelling at a speed of 10.

Bike is in gear 5 with a cadence of 20 and travelling at a speed of 10.
The MountainBike has a Dual suspension.

Bike is in gear 8 with a cadence of 40 and travelling at a speed of 20.
The RoadBike has 23 MM tires.
</code></pre><p><strong>å¦‚å‰æ‰€è¿°ï¼Œåœ¨Javaä¸­ï¼Œæ–¹æ³•è°ƒç”¨æ€»æ˜¯ç”±å®é™…å¯¹è±¡çš„ç±»å‹å†³å®šçš„ï¼Œè€Œä¸æ˜¯ç”±å¯¹è±¡å¼•ç”¨çš„ç±»å‹å†³å®šçš„ã€‚</strong></p>
<p><strong>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¯¹è±¡<code>bike01</code>, <code>bike02</code>, <code>bike03</code>æ‰€å¼•ç”¨çš„ç±»å‹éƒ½æ˜¯<code>Bicycle</code>ç±»ï¼Œä½†ä»–ä»¬å®é™…æ‰€æŒ‡çš„å¯¹è±¡ç±»å‹ï¼Œåˆ™åˆ†åˆ«æ˜¯<code>Bicycle</code>, <code>MountainBike</code>, <code>RoadBike</code>ã€‚</strong></p>
<p>å¯è§ï¼Œè™½ç„¶æˆ‘ä»¬æœ‰å¤šä¸ª<code>printDescription</code>æ–¹æ³•ï¼Œä½†Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¼šä¸ºæ¯ä¸ªå¯¹è±¡è°ƒç”¨é€‚å½“çš„æ–¹æ³•ã€‚</p>
<p>æ˜¯ä¸æ˜¯è¿˜æ˜¯æœ‰ç‚¹æ™•ä¹ä¹çš„å‘¢ï¼Ÿæ¥ä¸‹æ¥çš„è®²è§£ä¼šè®©å¤§å®¶æ›´ä¸ºæ˜æ™°ã€‚ğŸ’–</p>
<h2 id="å†è°ˆå¤šæ€">å†è°ˆå¤šæ€</h2>
<p>æˆ‘ä»¬å‰æ–‡è®²åˆ°</p>
<pre><code>åœ¨Javaä¸­ï¼Œæ–¹æ³•è°ƒç”¨æ€»æ˜¯ç”±å®é™…å¯¹è±¡æŒ‡å‘çš„ç±»å‹å†³å®šçš„ï¼Œè€Œä¸æ˜¯ç”±å¯¹è±¡å¼•ç”¨çš„ç±»å‹å†³å®šçš„ã€‚

å¯¹è±¡bike01, bike02, bike03æ‰€å¼•ç”¨çš„ç±»å‹éƒ½æ˜¯Bicycleç±»ï¼Œä½†ä»–ä»¬å®é™…æ‰€æŒ‡çš„å¯¹è±¡ç±»å‹ï¼Œåˆ™åˆ†åˆ«æ˜¯Bicycle, MountainBike, RoadBikeã€‚
</code></pre><p>è¿˜è®°å¾—å—ï¼Ÿå¤šæ€æŒ‡çš„æ˜¯ä¸€ç§ï¼Œä¸ºï¼Œå¤„åœ¨ç±»ç»§æ‰¿å±‚æ¬¡ç»“æ„ï¼ˆä¹Ÿå°±æ˜¯ä¸€å±‚ä¸€å±‚çš„ï¼Œä»é«˜åˆ°ä½çš„è¿™ç§ç»§æ‰¿å…³ç³»ï¼Œä¸€çº§ä¸€çº§çš„ç»“æ„ï¼‰ä¸­çš„å…·ä½“å¯¹è±¡ï¼ˆä¸€ä¸ªç‰¹å®šå¯¹è±¡ï¼Œå¤„åœ¨ç±»ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­ç‰¹å®šçš„æŸä¸€çº§åˆ«ã€æŸä¸€å±‚æ¬¡ï¼‰é€‰æ‹©é€‚å½“çš„æ–¹æ³•çš„æœºåˆ¶ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„ä¸‰ä¸ªbikeå¯¹è±¡ï¼Œåˆ†åˆ«å¤„åœ¨ä¸‰ä¸ªä¸åŒçš„å±‚æ¬¡ï¼ˆä¸€ä¸ªåœ¨çˆ¶ç±»ï¼Œä¸¤ä¸ªåœ¨å­ç±»ï¼‰ï¼Œç„¶åï¼Œæˆ‘ä»¬åˆ†åˆ«è®©è¿™ä¸‰ä¸ªbikeå¯¹è±¡ï¼Œè°ƒç”¨äº†åŒä¸€ä¸ªæ–¹æ³•åçš„æ–¹æ³•<code>printDescription</code>ã€‚ä½†æ˜¯ï¼ŒåŒä¸€ä¸ªæ–¹æ³•åçš„æ–¹æ³•<code>printDescription</code>ï¼Œå®é™…ä¸Šæœ‰ä¸‰ç§ä¸åŒçš„å½¢æ€ï¼š<code>æ™®é€šè‡ªè¡Œè½¦(Bicycle)</code>å½¢æ€ï¼Œ<code>å±±åœ°è‡ªè¡Œè½¦(MountainBike)</code>å½¢æ€ï¼Œä»¥åŠ<code>å…¬è·¯è‡ªè¡Œè½¦(RoadBike)</code>å½¢æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ª<code>printDescription</code>æ–¹æ³•ï¼Œæ˜¯å…·æœ‰å¤šç§å½¢æ€çš„ï¼<code>printDescription</code>è¿™ä¸€ä¸ªè¢«ä¸¤æ¬¡é‡å†™è¿‡çš„æ–¹æ³•ï¼Œå°±è¢«ç§°ä¸ºæ˜¯å¤šæ€çš„æ–¹æ³•ã€‚</p>
<p>é‚£ä¹ˆï¼Œå½“Javaç¨‹åºåœ¨æ‰§è¡Œæ—¶ï¼Œå…·ä½“æ‰§è¡Œ<code>printDescription</code>è¿™ä¸€å¤šæ€æ–¹æ³•çš„å“ªä¸€ç§å½¢æ€ï¼Œåˆ™å–å†³äºï¼Œè°ƒç”¨è¿™ä¸€æ–¹æ³•çš„å¯¹è±¡ï¼Œå®é™…<strong>æŒ‡å‘</strong>çš„å¯¹è±¡ç±»å‹ï¼ˆä¹Ÿå°±æ˜¯åœ¨<code>new</code>è¯­å¥åç´§è·Ÿç€çš„ç±»å‹ï¼‰ï¼Œè€Œä¸æ˜¯è¿™ä¸€å¯¹è±¡<strong>å¼•ç”¨</strong>çš„å¯¹è±¡ç±»å‹ï¼ˆä¹Ÿå°±æ˜¯åœ¨<code>new</code>è¯­å¥ä¸­ï¼Œå®é™…å¯¹è±¡å‰é¢çš„é‚£ä¸ªç±»å‹
ï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯­å¥</p>
<pre><code class="lang-java">Animal puppy = <span class="hljs-keyword">new</span> Dog();
</code></pre>
<p>ä¸­ï¼Œå®ä¾‹å¯¹è±¡<code>puppy</code>æ‰€å¼•ç”¨çš„ç±»å‹æ˜¯<code>Animal</code>ï¼Œè€Œå…¶å®é™…æŒ‡å‘çš„ç±»å‹åˆ™æ˜¯<code>Dog</code>ã€‚</p>
<p>å†æ‹¿<code>ä»£æ¬§å¥‡å¸Œæ–¯</code>è¿™åªç¥å¥‡å®è´æ¥ä½œä¸ªæ¯”å–»ï¼šè¿™æ˜¯ä¸€ç§é•¿å¾—åƒå¤–æ˜Ÿäººçš„ä¸¤è¶³ç¥å¥‡å®è´ï¼Œæ‹¥æœ‰å››ç§å½¢æ€ï¼Œå„è‡ªæ³¨é‡ä¸åŒçš„èƒ½åŠ›ã€‚ä½†ï¼Œè¿™å››ç§å½¢éƒ½æ€å…·æœ‰å…±åŒç‰¹å¾ï¼Œå…¶èº¯ä½“éƒ½ä¸ºæ©˜çº¢è‰²ï¼Œé¢éƒ¨éƒ½ä¸ºè“ç»¿è‰²ï¼ŒèƒŒéƒ¨éƒ½æœ‰ä¸‰ä¸ªè“ç»¿è‰²çš„ç‚¹ã€‚</p>
<p><img src="ch05_1.png" alt="ä»£æ¬§å¥‡å¸Œæ–¯"></img></p>
<p>æ–¹æ³•çš„å¤šæ€æ€§ä¹Ÿå°±åƒè¿™æ ·ï¼ŒåŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼æˆ–å½¢æ€çš„èƒ½åŠ›ã€‚å°±å¦‚åŒè´è¶æ‹¥æœ‰è®¸å¤šä¸åŒçš„å‘å±•å½¢æ€ä¸€æ ·ã€‚</p>
<p>è®©æˆ‘ä»¬å›åˆ°æˆ‘ä»¬çš„è‡ªè¡Œè½¦ä¾‹å­ï¼ˆä¸è¦è·‘ååˆ°ç¥å¥‡å®è´äº†ï¼‰ï¼Œæ¥è¯´æ˜å¤šæ€çš„å­˜åœ¨ï¼Œæ‰€éœ€è¦çš„ä¸‰ä¸ªå‰æï¼š</p>
<p><strong>1. å­˜åœ¨ç»§æ‰¿å…³ç³»</strong></p>
<pre><code>`MountainBike`ç±»ä¸`RoadBike`ç±»ç»§æ‰¿äº†`Bicycle`ç±»ã€‚
</code></pre><p><strong>2. å­ç±»è¦é‡å†™çˆ¶ç±»çš„æ–¹æ³•</strong></p>
<pre><code>å­ç±»é‡å†™ï¼ˆOverride)äº†çˆ¶ç±»çš„å®ä¾‹æ–¹æ³•`printDescription`
</code></pre><p><strong>3. å¯¹çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</strong></p>
<p>æµ‹è¯•ç±»<code>TestBikes</code>ä¸­ï¼Œè¯­å¥</p>
<pre><code class="lang-java">Bicycle bike01, bike02, bike03;

bike01 = <span class="hljs-keyword">new</span> Bicycle(<span class="hljs-number">20</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>);
bike02 = <span class="hljs-keyword">new</span> MountainBike(<span class="hljs-number">20</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-string">"Dual"</span>);
bike03 = <span class="hljs-keyword">new</span> RoadBike(<span class="hljs-number">40</span>, <span class="hljs-number">20</span>, <span class="hljs-number">8</span>, <span class="hljs-number">23</span>);
</code></pre>
<p>å°†å¯¹äºçˆ¶ç±»<code>Bicycle</code>çš„å¼•ç”¨ï¼ŒæŒ‡å‘äº†<code>Bicycle</code>, <code>MountainBike</code>, <code>RoadBike</code>è¿™ä¸‰ä¸ªå­ç±»å¯¹è±¡ã€‚</p>
<h2 id="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢</h2>
<p>åœ¨AP CS Aä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŒæ¡ <strong>å‘ä¸‹è½¬å‹ï¼ˆdowncastingï¼‰</strong> çš„æ¦‚å¿µã€‚</p>
<p>è€ƒè™‘å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="lang-java"><span class="hljs-comment">//å‡è®¾getID()æ–¹æ³•æ˜¯GradStudentç±»ä¸­ç‰¹æœ‰çš„ä¸€ä¸ªpublicå®ä¾‹æ–¹æ³•ï¼Œæ²¡æœ‰åœ¨Studentç±»ä¸­è¢«å®šä¹‰ï¼ŒGradStudentç±»ç»§æ‰¿è‡ªStudentç±»ã€‚</span>
Student student = <span class="hljs-keyword">new</span> GradStudent();
GradStudent gradstudent = <span class="hljs-keyword">new</span> GradStudent();
<span class="hljs-keyword">int</span> x = student.getID(); <span class="hljs-comment">//ç¼–è¯‘æ—¶é”™è¯¯</span>
<span class="hljs-keyword">int</span> y = gradstudent.getID(); <span class="hljs-comment">//æ­£ç¡®</span>
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>student</code>ä¸<code>gradstudent</code>ä¸¤ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ˜æ˜éƒ½æŒ‡å‘ç€<code>GradStudent</code>è¿™ä¸ªç±»ï¼Œä¸ºä½•</p>
<pre><code class="lang-java">student.getID()
</code></pre>
<p>ä¼šæŠ¥é”™å‘¢ï¼Ÿ</p>
<p>è¿™æ˜¯å› ä¸ºï¼Œå°½ç®¡å®ä¾‹å¯¹è±¡<code>student</code>å®é™…æŒ‡å‘çš„æ˜¯<code>GradStudent</code>è¿™ä¸ªç±»ï¼Œä½†å…¶å¼•ç”¨ç±»å‹ä»ç„¶ä¸º<code>Student</code>ç±»ï¼Œè€Œ<code>Student</code>ç±»æ˜¯æ²¡æœ‰å®šä¹‰ä¸€ä¸ª<code>getID()</code>æ–¹æ³•çš„ã€‚åœ¨ç¼–è¯‘æ—¶ï¼Œåªæœ‰<code>Student</code>ç±»çš„é<code>private</code>ç±»å‹çš„æ–¹æ³•ï¼Œæ‰èƒ½ä½¿ç”¨ç‚¹å·è¿ç®—ç¬¦<code>.</code>åº”ç”¨äº<code>student</code>å¯¹è±¡ã€‚æ³¨æ„ï¼Œè¿™å’Œæˆ‘ä»¬ä¹‹å‰æåˆ°çš„<code>å¤šæ€</code>æ— å…³ï¼Œå› ä¸ºå®ƒä¸æ»¡è¶³æˆ‘ä»¬è®²è¿‡çš„ï¼Œ<code>å¤šæ€</code>æ‰€åº”è¯¥å…·å¤‡çš„æ¡ä»¶ï¼šæˆ‘ä»¬æ²¡æœ‰ä¸ºå­ç±»<code>GradStudent</code>é‡å†™è¿‡getID()æ–¹æ³•ã€‚å› æ­¤ï¼Œè¿™é‡Œçš„<code>getID()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬æ²¡æœ‰èµ‹äºˆå®ƒå¤šæ€æ€§ã€‚æ˜¯æ•…ï¼Œå…¶åªèƒ½è¢«ç”¨äº<code>GradStudent</code>ç±»ä¸­çš„å®ä¾‹å¯¹è±¡ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬å¾ˆéœ€è¦ä¸º<code>student</code>å¯¹è±¡ä½¿ç”¨<code>getID()</code>æ–¹æ³•ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥å¯¹<code>student</code>å¯¹è±¡è¿›è¡Œ<code>è½¬å‹(casting)</code>ï¼Œå°†å…¶å¼ºè¡Œè½¬ä¸ºæ­£ç¡®çš„å¼•ç”¨ç±»å‹ï¼š</p>
<pre><code class="lang-java"> <span class="hljs-keyword">int</span> x = ((GradStudent) student).getID();
</code></pre>
<p>å› ä¸º<code>student</code>æœ¬å·²æ˜¯ä¸€ä¸ªæŒ‡å‘<code>GradStudent</code>ç±»çš„å¯¹è±¡ï¼Œåªä¸è¿‡å…¶å¼•ç”¨å¯¹è±¡ä»ä¸º<code>Student</code>ï¼Œæˆ‘ä»¬çš„è½¬å‹å¯ä»¥é¡ºåˆ©å®Œæˆã€‚</p>
<p>åƒè¿™æ ·çš„ï¼ŒæŠŠä¸€ä¸ªå­ç±»å¼•ç”¨æŒ‡å‘çˆ¶ç±»å¯¹è±¡çš„è½¬å‹è¿‡ç¨‹ï¼Œç§°ä½œ<code>å‘ä¸‹è½¬å‹</code>ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå­ç±»å¼•ç”¨å°±æ˜¯å­ç±»<code>GradStudent</code>ä¸­çš„å¼•ç”¨æ–¹æ³•<code>getID()</code>ï¼Œæˆ‘ä»¬å°†å…¶å¼ºè¡ŒæŒ‡å‘çˆ¶ç±»å¯¹è±¡<code>student</code>ï¼Œä½¿ä¹‹èƒ½å¤Ÿè¢«<code>student</code>å¯¹è±¡åˆæ³•åœ°è°ƒç”¨ã€‚</p>
<h2 id="åŠ¨æ€ç»‘å®š">åŠ¨æ€ç»‘å®š</h2>
<p>åŠ¨æ€ç»‘å®šï¼ˆDynamic bonding)ï¼ŒæŒ‡çš„æ˜¯ï¼Œå½“å­˜åœ¨æ–¹æ³•é‡å†™æ—¶ï¼Œå…³äºè°ƒç”¨å“ªä¸€ä¸ªå®ä¾‹æ–¹æ³•çš„å†³å®šï¼Œæ˜¯åœ¨Javaç¨‹åºè¿è¡Œæ—¶(run-time)ï¼ˆJavaè™šæ‹ŸæœºJVMå®æ—¶è§£æè¿è¡ŒJavaå­—èŠ‚ç æ—¶ï¼‰æ‰å®æ—¶ä½œå‡ºçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸€ä¸ªå†³å®šæ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œæ‰å®æ—¶ã€åŠ¨æ€åœ°ä½œå‡ºçš„ã€‚</p>
<p>ä¸ä¹‹ç›¸å¯¹çš„æ˜¯ï¼Œå½“å­˜åœ¨æ–¹æ³•é‡è½½æ—¶ï¼Œå…³äºè°ƒç”¨å“ªä¸€ä¸ªå®ä¾‹æ–¹æ³•çš„å†³å®šï¼Œæ˜¯åœ¨Javaç¨‹åºç¼–è¯‘æ—¶(compile-time)å°±å·²ç»åšå¥½çš„ã€å›ºåŒ–äº†çš„ï¼Œä¸€æˆä¸å˜çš„çš„å†³å®šï¼Œè¿™ä¸€ç§ç±»å‹è¢«ç§°ä¸ºé™æ€ç»‘å®š(Static bonding)ã€‚</p>
<p>åœ¨é™æ€ç»‘å®šä¸­ï¼Œç¼–è¯‘å™¨ä¼šé€šè¿‡åˆ†ææ¯”è¾ƒå®ä¾‹æ–¹æ³•çš„ç­¾åç‰¹ç‚¹ã€é€»è¾‘å±‚æ¬¡å½’å±ç­‰ç­‰ï¼Œæ¥é€‰æ‹©æ­£ç¡®çš„æ–¹æ³•é‡è½½ï¼Œå¹¶ä¸”ä¸€æ—¦é€‰æ‹©å®Œæ¯•ï¼Œå°±åœ¨ç¼–è¯‘æ—¶å°†è¿™æ ·çš„ç»‘å®šå…³ç³»å®šæ­»äº†ï¼Œä¸å¯èƒ½å†æ”¹å˜äº†ã€‚</p>
<p>è€Œåœ¨å¤šæ€çš„å®ç°ä¸­ï¼Œå½“é­é‡åˆ°æ–¹æ³•é‡å†™ï¼Œæœ€ç»ˆå“ªä¸€ä¸ªå®ä¾‹æ–¹æ³•ä¼šè¢«è°ƒç”¨è¿™ä¸ªå†³å®šï¼Œä¸æ˜¯ç”±ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å†³å®šçš„ã€‚</p>
<p>åœ¨åŠ¨æ€ç»‘å®šçš„è¿‡ç¨‹ä¸­ï¼Œç¼–è¯‘å™¨æ‰€åšçš„äº‹æƒ…æ˜¯ï¼Œåˆ¤æ–­ä¸€ä¸ªæ–¹æ³•èƒ½å¦è¢«åˆæ³•åœ°è°ƒç”¨ã€‚è€Œï¼Œè¿è¡Œæ—¶ç¯å¢ƒï¼ˆJavaè™šæ‹ŸæœºJVMï¼‰æ‰æ˜¯æœ€ç»ˆä½œå‡ºå…³äºç©¶ç«Ÿè¦è°ƒç”¨è¢«é‡å†™çš„æ–¹æ³•ä¸­çš„å“ªä¸€ä¸ªå®ä¾‹æ–¹æ³•çš„å†³å®šçš„é‚£ä¸ªè§’è‰²ã€‚
æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>
<p><img src="ch05_2.png" alt="DB"></img></p>
<p>å½“è¿™ä¸€æ®µä»£ç åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œ<code>speak()</code>æ–¹æ³•çš„å…·ä½“é€‰æ‹©ï¼Œä¼šæ ¹æ®è°ƒç”¨è¯¥æ–¹æ³•çš„å…·ä½“å¯¹è±¡ç±»å‹è€Œå®šã€‚</p>
<p>å†æ¥çœ‹å·´æœ—æ•™æä¸­çš„ä¸€æ®µä¾‹å­ï¼š</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StudentTest</span>
</span>{
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">computeAllGrades</span><span class="hljs-params">(Student[] studentList)</span>
</span>{
<span class="hljs-keyword">for</span> (Student s : studentList)
<span class="hljs-keyword">if</span> (s != <span class="hljs-keyword">null</span>)
s.computeGrade();
}
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span>
</span>{
Student[] stu = <span class="hljs-keyword">new</span> Student[<span class="hljs-number">5</span>];
stu[<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">"Brian Lorenzen"</span>,
<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {<span class="hljs-number">90</span>,<span class="hljs-number">94</span>,<span class="hljs-number">99</span>}, <span class="hljs-string">"none"</span>);
stu[<span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> UnderGrad(<span class="hljs-string">"Tim Broder"</span>,
<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {<span class="hljs-number">90</span>,<span class="hljs-number">90</span>,<span class="hljs-number">100</span>}, <span class="hljs-string">"none"</span>);
stu[<span class="hljs-number">2</span>] = <span class="hljs-keyword">new</span> GradStudent(<span class="hljs-string">"Kevin Cristella"</span>,
<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {<span class="hljs-number">85</span>,<span class="hljs-number">70</span>,<span class="hljs-number">90</span>}, <span class="hljs-string">"none"</span>, <span class="hljs-number">1234</span>);
computeAllGrades(stu);
}
}
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«é•¿åº¦ä¸º<code>5</code>çš„<code>Student</code>æ•°ç»„ï¼Œå®ƒä»¬æœ€åˆéƒ½æ˜¯éƒ½æ˜¯ç©ºçš„ã€‚ å…¶ä¸­çš„ä¸‰ä¸ªæ•°ç»„å¯¹è±¡<code>stu[0]</code>, <code>stu[1]</code>, <code>stu[2]</code>ï¼Œæ¥ç€è¢«æŒ‡å‘ä¸‰ä¸ªå…·ä½“çš„å®ä¾‹å¯¹è±¡ã€‚</p>
<p><code>computeAllGrades</code>æ–¹æ³•éå†æ•°ç»„ï¼Œä¸ºæ¯ä¸ªå¯¹è±¡è°ƒç”¨ç›¸åº”çš„<code>computeGrade</code>æ–¹æ³•ï¼Œåœ¨æ¯ç§æƒ…å†µä¸‹éƒ½ä½¿ç”¨åŠ¨æ€ç»‘å®šã€‚ å¯¹<code>computeAllGrades</code>æ–¹æ³•è¿›è¡Œç©ºæµ‹è¯•æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºæŸäº›æ•°ç»„å¼•ç”¨å¯èƒ½ä¸ºç©ºã€‚</p>
<h2 id="ä½¿ç”¨superè°ƒç”¨çˆ¶ç±»">ä½¿ç”¨â€œsuperâ€è°ƒç”¨çˆ¶ç±»</h2>
<p>ä½¿ç”¨<code>super</code>å…³é”®å­—ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä½¿å¾—ä¸€ä¸ªå­ç±»ï¼Œè°ƒç”¨å¤„åœ¨å…¶çˆ¶ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚å¤§å®¶å¯èƒ½ä¼šæ„Ÿåˆ°ç–‘æƒ‘ï¼Œæˆ‘ä»¬å‰é¢ä¸æ˜¯è®²åˆ°ï¼Œä¸€ä¸ªå­ç±»ç»§æ‰¿äº†çˆ¶ç±»ä»¥åï¼Œè¿™ä¸ªå­ç±»å°±ç»§æ‰¿åˆ†äº«äº†ï¼Œå…¶çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•äº†å—ï¼Ÿæ¯”å¦‚ï¼Œ</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mammal</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">eat</span><span class="hljs-params">()</span></span>{
        System.out.println(<span class="hljs-string">"I can eat!"</span>);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Mammal</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{
        Dog puppy = <span class="hljs-keyword">new</span> Dog();
        puppy.eat();
    }
}
</code></pre>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¸ç”¨<code>super</code>å…³é”®å­—ï¼Œå°±å¯ä»¥ä½¿ç”¨çˆ¶ç±»ä¸­çš„<code>eat()</code>æ–¹æ³•ã€‚é‚£ä¹ˆï¼Œ<code>super</code>å…³é”®å­—åœ¨ä»€ä¹ˆæ—¶å€™ä¼šæ´¾ä¸Šç”¨åœºå‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼šå½“å‡ºç°æ–¹æ³•é‡å†™æ—¶ã€‚</p>
<p><strong>å¦‚æœåœ¨å­ç±»ä¸­ï¼Œæˆ‘ä»¬å¯¹ä¸€ä¸ªæ–¹æ³•è¿›è¡Œäº†é‡å†™ï¼Œåˆ™é‡å†™è¿‡çš„æ–¹æ³•é»˜è®¤è¦†ç›–è¿‡äº†çˆ¶ç±»ä¸­çš„åŒåæ–¹æ³•ï¼Œä½†è‹¥æˆ‘ä»¬å°±æ˜¯æƒ³ä½¿ç”¨çˆ¶ç±»ä¸­çš„ï¼Œè¢«é‡å†™è¿‡çš„ï¼Œé‚£ä¸€ä¸ªåŸæœ¬çš„æ–¹æ³•ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä½¿ç”¨å…³é”®å­—<code>super</code>æ¥è°ƒç”¨è¢«é‡å†™è¿‡(Overridden)çš„æ–¹æ³•ã€‚</strong></p>
<p>æ¯”æ–¹è¯´ï¼š</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Superclass</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printMethod</span><span class="hljs-params">()</span> </span>{
        System.out.println(<span class="hljs-string">"Printed in Superclass."</span>);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Subclass</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Superclass</span> </span>{

    <span class="hljs-comment">// overrides printMethod in Superclass</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printMethod</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">super</span>.printMethod();
        System.out.println(<span class="hljs-string">"Printed in Subclass."</span>);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        Subclass s = <span class="hljs-keyword">new</span> Subclass();
        s.printMethod();    
    }
}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„<code>printMethod</code>åœ¨å­ç±»<code>Subclass</code>ä¸­è¢«é‡å†™è¿‡äº†ä¸€æ¬¡ã€‚å¦‚æœæˆ‘ä»¬åƒå‰é¢<code>Dog</code>ç±»é‚£ä¸ªä¾‹å­ä¸€æ ·ï¼Œä»…ä»…ä½¿ç”¨ç‚¹å·è¿ç®—ç¬¦<code>.</code>åœ¨å­ç±»ä¸­å»è°ƒç”¨è¿™ä¸ªï¼Œåˆ™æ ¹æ®æˆ‘ä»¬åœ¨<code>æ–¹æ³•é‡å†™</code>é‚£ä¸€ç« èŠ‚è®²çš„è§„åˆ™ï¼ŒJavaç¨‹åºé»˜è®¤ä¼šé€‰æ‹©ä½¿ç”¨é‡å†™è¿‡çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å­ç±»ä¸­çš„é‚£ä¸€ä¸ª<code>printMethod</code>æ–¹æ³•ï¼Œè€Œéçˆ¶ç±»ä¸­åŸæœ¬çš„<code>printMethod</code>æ–¹æ³•ã€‚å› æ­¤ï¼Œè‹¥æˆ‘ä»¬æƒ³è¦åœ¨å­ç±»ä¸­ä½¿ç”¨çˆ¶ç±»ä¸­çš„<code>printMethod</code>æ–¹æ³•ï¼Œè€Œéå­ç±»ä¸­çš„<code>printMethod</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨<code>super</code>è¿›è¡Œå¼ºè¡Œå£°æ˜ã€‚</p>
<p>ä¸Šè¿°ç¨‹åºçš„è¿è¡Œç»“æœä¸º:</p>
<pre><code>Printed in Superclass.
Printed in Subclass.
</code></pre><p>åŸå› æ˜¯ï¼ŒJavaç¨‹åºé¦–å…ˆä»å­ç±»<code>Subclass</code>ä¸­çš„<code>main()</code>æ–¹æ³•å¼€å§‹æ‰§è¡Œï¼Œå®ä¾‹å¯¹è±¡<code>s</code>å°†ä¼šä¼˜å…ˆè°ƒç”¨å­ç±»ä¸­çš„<code>printMethod()</code>æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­æœ‰ä¸¤è¡Œè¯­å¥ã€‚ç¬¬ä¸€è¡Œè¯­å¥</p>
<pre><code class="lang-java"><span class="hljs-keyword">super</span>.printMethod();
</code></pre>
<p>ä¸­çš„<code>super</code>å…³é”®å­—ï¼Œå°†ä¼šå¼ºè¡Œå£°æ˜ï¼Œæˆ‘ä»¬è¿™é‡Œè¦ä½¿ç”¨çš„æ˜¯çˆ¶ç±»ä¸­çš„<code>printMethod</code>æ–¹æ³•ï¼Œäºæ˜¯Javaè¿è¡Œç¯å¢ƒï¼ˆJavaè™šæ‹ŸæœºJVMï¼‰å°†ä¼šå»è¯•å›¾å¯»æ‰¾å¹¶æ‰§è¡Œç±»ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸Šï¼Œè¿™ä¸ªå­ç±»ä¸Šä¸€çº§åˆ«çš„çˆ¶ç±»ä¸­çš„<code>printMethod</code>æ–¹æ³•ï¼Œäºæ˜¯ï¼Œè¿™ä¸€è¡Œè¯­å¥è°ƒç”¨äº†çˆ¶ç±»<code>Superclass</code>ä¸­çš„<code>printMethod</code>æ–¹æ³•ï¼Œæ‰“å°å‡ºç¬¬ä¸€è¡Œç»“æœï¼š</p>
<pre><code>Printed in Superclass.
</code></pre><p>æ³¨æ„ï¼Œè¿™é‡Œå…¶å®æ˜¯åœ¨æ‰§è¡Œå­ç±»ä¸­çš„<code>printMethod()</code>æ–¹æ³•ï¼Œåªä¸è¿‡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œ<code>super</code>å…³é”®å­—ä½¿å¾—ç¨‹åºæµç¨‹"çµé­‚å‡ºçª"ä¸€æ ·ï¼Œæš‚æ—¶å»äº†æ›´é«˜ä¸€ä¸ªç±»ï¼Œæ‰§è¡Œå®Œè¿™ä¸€è¡Œè¯­å¥åï¼ŒJavaè™šæ‹ŸæœºJVMç´§æ¥ç€æ‰§è¡Œçš„ä»ç„¶æ˜¯å­ç±»ä¸­çš„<code>printMethod()</code>æ–¹æ³•  çš„ä¸‹ä¸€è¡Œè¯­å¥</p>
<pre><code class="lang-java">System.out.println(<span class="hljs-string">"Printed in Subclass."</span>);
</code></pre>
<p>æ‰“å°å‡ºç¬¬äºŒè¡Œç»“æœï¼š</p>
<pre><code>Printed in Subclass.
</code></pre><h2 id="superä¸æ„é€ æ–¹æ³•">â€œsuperâ€ä¸æ„é€ æ–¹æ³•</h2>
<p>æ„é€ æ–¹æ³•æ˜¯æ°¸è¿œä¸ä¼šè¢«ç»§æ‰¿çš„ï¼ å¦‚æœæˆ‘ä»¬æ²¡æœ‰æ˜¾å¼åœ°ä¸ºå­ç±»ç¼–å†™æ„é€ å‡½æ•°ï¼ŒJavaè™šæ‹ŸæœºJVMä¼šä¸ºå­ç±»è‡ªåŠ¨ç”Ÿæˆä¸å¸¦å‚æ•°çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚</p>
<p><code>super</code>å…³é”®å­—è¿˜å¯ä»¥è¢«ç”¨äºåœ¨å­ç±»ä¸­è°ƒç”¨(invoke)çˆ¶ç±»ä¸­çš„æ„é€ æ–¹æ³•(constructor)ã€‚å›æƒ³ä¸€ä¸‹æˆ‘ä»¬å‰é¢æè¿‡çš„<code>Bicycle</code>ç±»çš„ä¾‹å­ï¼Œåœ¨é‚£ä¸ªä¾‹å­ä¸­ï¼Œ<code>MountainBike</code>ç±»æ˜¯<code>Bicycle</code>ç±»çš„å­ç±»ã€‚</p>
<p>ä¸‹é¢è¿™æ®µä»£ç å±•ç¤ºçš„æ˜¯åœ¨é‚£ä¸ªä¾‹å­ä¸­ï¼Œå­ç±»<code>MountainBike</code>ä¸­çš„æ„é€ æ–¹æ³•ï¼Œé€šè¿‡<code>super</code>å…³é”®å­—ï¼Œè°ƒç”¨äº†çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MountainBike</span><span class="hljs-params">(<span class="hljs-keyword">int</span> startHeight, <span class="hljs-keyword">int</span> startCadence, <span class="hljs-keyword">int</span> startSpeed, <span class="hljs-keyword">int</span> startGear)</span>
</span>{
    <span class="hljs-keyword">super</span>(startCadence, startSpeed, startGear);
}
</code></pre>
<p>åœ¨å­ç±»ä¸­ä½¿ç”¨<code>super</code>è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ æ–¹æ³•çš„è¯­æ³•æ˜¯:</p>
<pre><code class="lang-java"><span class="hljs-keyword">super</span>();
</code></pre>
<p>æˆ–ï¼š</p>
<pre><code class="lang-java"><span class="hljs-keyword">super</span>(parameter1, parameter2, ...ï¼‰;
</code></pre>
<p>è‹¥ä½¿ç”¨<code>super();</code>, çˆ¶ç±»ä¸­ä¸å¸¦ä¼ å…¥å‚æ•°åˆ—è¡¨çš„æ„é€ æ–¹æ³•å°†ä¼šè¢«è°ƒç”¨ã€‚å½“ä½¿ç”¨å¸¦ä¼ å…¥å‚æ•°çš„ <code>super</code>å…³é”®å­—ï¼Œä¾‹å¦‚</p>
<pre><code class="lang-java"><span class="hljs-keyword">super</span>(parameter1, parameter2, ...);
</code></pre>
<p>åˆ™çˆ¶ç±»ä¸­å…·æœ‰åŒ¹é…çš„ä¼ å…¥å‚æ•°åˆ—è¡¨çš„æ„é€ å‡½æ•°å°†ä¼šè¢«è°ƒç”¨ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>Javaé‡Œæœ‰ä¸€ä¸ªç‰¹æ®Šè¦æ±‚ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨æ„é€ å™¨é‡Œé¢è°ƒç”¨<code>super()</code>çš„æ—¶å€™ï¼Œ<code>super()</code>å¿…é¡»è¦<strong>åœ¨æ„é€ å™¨é‡Œçš„ç¬¬ä¸€è¡Œ</strong>ã€‚æ¯”å¦‚è¿™ä¸ªç±»é‡Œé¢çš„æ„é€ å™¨æ˜¯å¯ä»¥ç¼–è¯‘çš„ï¼š</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SavingsAccount</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BankAccount</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> interestRate;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SavingsAccount</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">super</span>();
        interestRate = <span class="hljs-number">0</span>;
    }
}
</code></pre>
<p>è€Œè¿™ä¸ªç±»é‡Œçš„æ„é€ å™¨ä¸è¡Œï¼š</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SavingsAccount</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BankAccount</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> interestRate;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SavingsAccount</span><span class="hljs-params">()</span> </span>{
        interestRate = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">super</span>();
    }
}
</code></pre>
<h2 id="è€ƒè¯•æŠ€å·§">è€ƒè¯•æŠ€å·§</h2>
<p>ClassCastExceptionå‡ºç°æƒ…å†µ&amp;Downcastingç±»å‹è½¬åŒ–å¯ä»¥å‘ç”Ÿçš„æƒ…å†µã€‚</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">a</span></span>{
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">b</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">a</span></span>{
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">c</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">b</span></span>{
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">e</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">b</span></span>{
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">d</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">c</span></span>{
}

a x =<span class="hljs-keyword">new</span> d()
<span class="hljs-comment">//(b)x,(c)x,(d)x éƒ½å¯ä»¥</span>
<span class="hljs-comment">//(e)x ä¼šå‡ºç°ClassCastExceptioné”™è¯¯ </span>
b x = <span class="hljs-keyword">new</span> c()
<span class="hljs-comment">// (d)x, (a)x ä¼šå‡ºç°ClassCastExceptioné”™è¯¯</span>
a x = <span class="hljs-keyword">new</span> e()
<span class="hljs-comment">//(b)x,(e)x éƒ½å¯ä»¥</span>
<span class="hljs-comment">//å…¶ä»–å¦‚(d)xä¼šå‡ºç°ClassCastExceptioné”™è¯¯</span>
</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´åœ¨è½¬æ¢ç±»å‹çš„æ—¶å€™, ç»§æ‰¿å…³ç³»æ˜¯ a &lt;- b &lt;- c &lt;- d &amp; b &lt;- e
<img src="ch05_3.png" alt="ç»§æ‰¿å…³ç³»"></img>
(ä¸‹é¢çš„O,P,I éƒ½ä»£è¡¨ä¸€ä¸ªä¸åŒçš„ç±»å)</p>
<p>é‚£ä¹ˆ åœ¨ä½¿ç”¨ <code>O x = new P();</code> (O,P æ˜¯aåˆ°dé‚£ä¸€æ¡ç»§æ‰¿å…³ç³»é“¾ä¸­çš„ä¸€ç§(eä¸èƒ½åŒ…æ‹¬,å› ä¸ºdæ²¡æœ‰ç»§æ‰¿e) ä¸” O&gt;=P)</p>
<p>downcastingå‘ä¸‹è½¬æ¢ <code>(I) x;</code> åªæœ‰åœ¨ P &lt;= I &lt;= O æ—¶ä¸ä¼šå‡ºé”™ï¼Œåä¹‹ä¼šæŠ›å‡º ClassCastException é”™è¯¯ã€‚</p>
<h2 id="å°ç»ƒä¹ ">å°ç»ƒä¹ </h2>
<p><strong>Answering question 1 requires you to read the following code:</strong></p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BankAccount</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> balance;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BankAccount</span><span class="hljs-params">()</span> </span>{
        balance = <span class="hljs-number">0</span>;
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BankAccount</span><span class="hljs-params">(<span class="hljs-keyword">double</span> acctBalance)</span> </span>{
        balance = acctBalance;
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deposit</span><span class="hljs-params">(<span class="hljs-keyword">double</span> amount)</span> </span>{
        balance += amount;
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">withdraw</span><span class="hljs-params">(<span class="hljs-keyword">double</span> amount)</span> </span>{
        balance -= amount;
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getBalance</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> balance;
    }
}
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SavingsAccount</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BankAccount</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> interestRate;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SavingsAccount</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">/* implementation not shown */</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SavingsAccount</span><span class="hljs-params">(<span class="hljs-keyword">double</span> acctBalance, <span class="hljs-keyword">double</span> rate)</span> </span>{
        <span class="hljs-comment">/* implementation not shown */</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addInterest</span><span class="hljs-params">()</span> <span class="hljs-comment">//Add interest to balance</span>
    </span>{
        <span class="hljs-comment">/* implementation not shown */</span>
    }
}
</code></pre>
<p>1.Which of the following correctly implements the default constructor of the <code>SavingsAccount</code> class?</p>
<p>I interestRate = 0;
super();</p>
<p>II super();
interestRate = 0;</p>
<p>III super();</p>
<p>(A) II</p>
<p>(B) I and II only</p>
<p>(C) II and III only</p>
<p>(D) III only</p>
<p>(E) I, II, and III</p>
<cr type="hidden">C

è§£æï¼šè¿™é“é¢˜çš„è€ƒç‚¹æ˜¯ä¸€ä¸ªç‰¹æ®Šæƒ…å†µï¼Œå°±æ˜¯`super()`æ— è®ºå¦‚ä½•è¦åœ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œï¼Œå› æ­¤Iæ˜¯ä¸è¡Œçš„ï¼ŒIIIçœ‹èµ·æ¥ä¸è¡Œï¼ˆæ²¡æœ‰åˆå§‹åŒ–`interestRate`ï¼‰ï¼Œä½†å®é™…ä¸Šï¼Œå› ä¸º`interestRate`æ˜¯ä¸€ä¸ª`double`ç±»å‹çš„å˜é‡ï¼Œå®ƒä¼šæœ‰é»˜è®¤å€¼`0.0`ï¼Œå› æ­¤ä¸åˆå§‹åŒ–ä¹Ÿå¯ä»¥çš„ï¼ˆå¦‚æœè¿™ä¸ªå˜é‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œè¿™ä¸ªå˜é‡çš„å€¼å°±ä¼šæ˜¯`null`ï¼‰ã€‚</cr>

<p>2.ã€2014å¹´AP CSç¬¬22é¢˜ã€‘</p>
<p>Consider the following Book and AudioBook classes.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>
</span>{
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> numPages;
  <span class="hljs-keyword">private</span> String bookTitle;

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Book</span><span class="hljs-params">(<span class="hljs-keyword">int</span> pages. String title)</span>
  </span>{
  numPages = pages;
  bookTitle = title;
  }

  <span class="hljs-keyword">public</span> String toStringO
  {
    <span class="hljs-keyword">return</span> bookTitle + <span class="hljs-string">" "</span> + numPages;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">return</span> numPages;
  }
}


<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AudioBook</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Book</span>
</span>{
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> numMinutes;
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">AudioBook</span><span class="hljs-params">(<span class="hljs-keyword">int</span> minutes, <span class="hljs-keyword">int</span> pages. String title)</span>
  </span>{
    <span class="hljs-keyword">super</span>(pages, title); numMinutes = minutes;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">return</span> numMinutes;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">pagesPerMinute</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">double</span>) <span class="hljs-keyword">super</span>.length()) / numMinutes;
  }
}
</code></pre>
<p>Consider the following code segment that appears in a class other than Book or AudioBook.</p>
<pre><code class="lang-java">Line1: Book[] books = <span class="hljs-keyword">new</span> Book[<span class="hljs-number">2</span>];
Line2: books[<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> AudioBook(<span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-string">"the Jungle"</span>);
Line3: books[<span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> Book(<span class="hljs-number">400</span>, <span class="hljs-string">"Captains Courageous"</span>);
Line4: System.out.println(books[<span class="hljs-number">0</span>].pagesPerMinute());
Line5: System.out.println(books[<span class="hljs-number">0</span>].toString());
Line6: System.out.println(books[<span class="hljs-number">0</span>].length());
Line7: System.out.println(books[<span class="hljs-number">1</span>].toString());
</code></pre>
<p>Which of the following best explains why the code segment will not compile?</p>
<p>(A) Line 2 will not compile because variables of type Book may not refer to variables of type AudioBook</p>
<p>(B) Line 4 will not compile because variables of type Book may only call methods in the Book cl</p>
<p>(C) Line 5 will not compile because the AudioBook class does not have a method named toString declared or implemented.</p>
<p>(D) Line 6 will not compile because the statement is ambiguous. The compiler cannot determine which
length method should be called.</p>
<p>(E) Line 7 will not compile because the element at index 1 in the array named books may not have been
initialized.</p>
<cr type="hidden">B</cr>

<p>A program to test the BankAccount, SavingsAccount, and CheckingAccount classes has
these declarations:</p>
<pre><code class="lang-java">BankAccount b = <span class="hljs-keyword">new</span> BankAccount(<span class="hljs-number">1400</span>);

BankAccount s = <span class="hljs-keyword">new</span> SavingsAccount(<span class="hljs-number">1000</span>, <span class="hljs-number">0.04</span>);

BankAccount c = <span class="hljs-keyword">new</span> CheckingAccount(<span class="hljs-number">500</span>);
</code></pre>
<p>3.Which method call will cause an error?</p>
<p>(A) b.deposit(200);</p>
<p>(B) s.withdraw(500);</p>
<p>(C) c.withdraw(500);</p>
<p>(D) s.deposit(10000);</p>
<p>(E) s.addInterest();</p>
<p>4.In order to test polymorphism, which method must be used in the program?</p>
<p>(A) Either a SavingsAccount constructor or a CheckingAccount constructor</p>
<p>(B) addInterest</p>
<p>(C) deposit</p>
<p>(D) withdraw</p>
<p>(E) getBalance</p>
<p>Multiple-Choice Questions on Inheritance and Polymorphism 153</p>
<p>5.Which of the following will not cause a ClassCastException to be thrown?</p>
<p>(A) ((SavingsAccount) b).addInterest();</p>
<p>(B) ((CheckingAccount) b).withdraw(200);</p>
<p>(C) ((CheckingAccount) c).deposit(800);</p>
<p>(D) ((CheckingAccount) s).withdraw(150);</p>
<p>(E) ((SavingsAccount) c).addInterest();</p>
<p><cr type="hidden">E, D, C</cr></p>
<h3 id="å®éªŒå®¤">å®éªŒå®¤</h3>
<p>åœ¨è¿™é‡Œç»ƒä¹ å§ï¼š</p>
<pre><code class="lang-java">&lt;lab lang="java" parameters="filename=Hello.java"&gt;
public class Hello {
   public static void main(String[] args) {
     // åœ¨è¿™é‡Œæ·»åŠ ä½ çš„ä»£ç 
   }
}
&lt;/lab&gt;
</code></pre>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="ch04.html" class="navigation navigation-prev " aria-label="Previous page: csa Chapter4">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="ch06.html" class="navigation navigation-next " aria-label="Next page: csa Chapter6">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"csa Chapter5","level":"1.6","depth":1,"next":{"title":"csa Chapter6","level":"1.7","depth":1,"path":"ch06.md","ref":"ch06.md","articles":[]},"previous":{"title":"csa Chapter4","level":"1.5","depth":1,"path":"ch04.md","ref":"ch04.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-search","-livereload","-lunr","-fontsettings","highlight","expandable-chapters-small","back-to-top-button","github","code","theme-default"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{"lang":{"eval_rst":"rst","toc":"text"}},"github":{"url":"https://github.com/KittenCN"},"expandable-chapters-small":{},"back-to-top-button":{},"code":{"copyButtons":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Todd Lyu","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"CoderFAN èµ„æ–™åº“","gitbook":"*"},"file":{"path":"ch05.md","mtime":"2024-01-02T10:19:23.802Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-05T04:24:44.418Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-code/plugin.js"></script>
        
    

    </body>
</html>

