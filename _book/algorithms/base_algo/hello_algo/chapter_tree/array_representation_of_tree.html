
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>二叉树数组表示 · CoderFAN 资料库</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Todd Lyu">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="binary_search_tree.html" />
    
    
    <link rel="prev" href="binary_tree_traversal.html" />
    
    <!-- MathJax 配置：唯一且完整 -->
<script>
    window.MathJax = {
      tex: {
        inlineMath:  [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']],
        processEscapes: true,
        processEnvironments: true,
        strict: "ignore",
        macros: { "\\E":"\\mathbb{E}", "\\Var":"\\operatorname{Var}" }
      },
    };
    </script>
    
    <!-- 核心脚本（defer不阻塞渲染） -->
    <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    
    <!-- 放在 tex-chtml.js 之后 -->
    <script>
    (function () {
      function typeset() {
        if (window.MathJax && MathJax.typesetPromise) {
          MathJax.typesetPromise().catch(console.error);
        }
      }
    
      /* 第一次正文插入 */
      document.addEventListener('DOMContentLoaded', typeset);
    
      /*   关键：等待 gitbook.js 初始化成功   */
      function hookGitBook() {
        if (window.gitbook && gitbook.events) {
          gitbook.events.bind('page.change', typeset);   // 切章排版
        } else {
          /* gitbook.js 还没加载完 → 100 ms 后再试 */
          setTimeout(hookGitBook, 100);
        }
      }
      hookGitBook();   // 启动递归等待
    })();
    </script>
    
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                <a href="../.." class="btn"><b></b>&#128512;返回上层&#128512;</b></a>
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Hello 算法
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../chapter_preface/">
            
                <a href="../chapter_preface/">
            
                    
                    前言
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1.1" data-path="../chapter_preface/about_the_book.html">
            
                <a href="../chapter_preface/about_the_book.html">
            
                    
                    关于本书
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.2" data-path="../chapter_preface/suggestions.html">
            
                <a href="../chapter_preface/suggestions.html">
            
                    
                    如何使用本书
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.3" data-path="../chapter_preface/">
            
                <a href="../chapter_preface/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../chapter_introduction/">
            
                <a href="../chapter_introduction/">
            
                    
                    初识算法
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.2.1" data-path="../chapter_introduction/algorithms_are_everywhere.html">
            
                <a href="../chapter_introduction/algorithms_are_everywhere.html">
            
                    
                    算法无处不在
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.2" data-path="../chapter_introduction/what_is_dsa.html">
            
                <a href="../chapter_introduction/what_is_dsa.html">
            
                    
                    算法是什么
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.3" data-path="../chapter_introduction/">
            
                <a href="../chapter_introduction/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../chapter_computational_complexity/">
            
                <a href="../chapter_computational_complexity/">
            
                    
                    复杂度分析
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.3.1" data-path="../chapter_computational_complexity/performance_evaluation.html">
            
                <a href="../chapter_computational_complexity/performance_evaluation.html">
            
                    
                    算法效率评估
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.2" data-path="../chapter_computational_complexity/iteration_and_recursion.html">
            
                <a href="../chapter_computational_complexity/iteration_and_recursion.html">
            
                    
                    迭代与递归
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.3" data-path="../chapter_computational_complexity/time_complexity.html">
            
                <a href="../chapter_computational_complexity/time_complexity.html">
            
                    
                    时间复杂度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.4" data-path="../chapter_computational_complexity/space_complexity.html">
            
                <a href="../chapter_computational_complexity/space_complexity.html">
            
                    
                    空间复杂度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.5" data-path="../chapter_computational_complexity/">
            
                <a href="../chapter_computational_complexity/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="../chapter_data_structure/">
            
                <a href="../chapter_data_structure/">
            
                    
                    数据结构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.4.1" data-path="../chapter_data_structure/classification_of_data_structure.html">
            
                <a href="../chapter_data_structure/classification_of_data_structure.html">
            
                    
                    数据结构分类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4.2" data-path="../chapter_data_structure/basic_data_types.html">
            
                <a href="../chapter_data_structure/basic_data_types.html">
            
                    
                    基本数据类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4.3" data-path="../chapter_data_structure/number_encoding.html">
            
                <a href="../chapter_data_structure/number_encoding.html">
            
                    
                    数字编码 *
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4.4" data-path="../chapter_data_structure/character_encoding.html">
            
                <a href="../chapter_data_structure/character_encoding.html">
            
                    
                    字符编码 *
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4.5" data-path="../chapter_data_structure/">
            
                <a href="../chapter_data_structure/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="../chapter_array_and_linkedlist/">
            
                <a href="../chapter_array_and_linkedlist/">
            
                    
                    数组与链表
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.5.1" data-path="../chapter_array_and_linkedlist/array.html">
            
                <a href="../chapter_array_and_linkedlist/array.html">
            
                    
                    数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5.2" data-path="../chapter_array_and_linkedlist/linked_list.html">
            
                <a href="../chapter_array_and_linkedlist/linked_list.html">
            
                    
                    链表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5.3" data-path="../chapter_array_and_linkedlist/list.html">
            
                <a href="../chapter_array_and_linkedlist/list.html">
            
                    
                    列表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5.4" data-path="../chapter_array_and_linkedlist/ram_and_cache.html">
            
                <a href="../chapter_array_and_linkedlist/ram_and_cache.html">
            
                    
                    内存与缓存 *
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5.5" data-path="../chapter_array_and_linkedlist/">
            
                <a href="../chapter_array_and_linkedlist/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="../chapter_stack_and_queue/">
            
                <a href="../chapter_stack_and_queue/">
            
                    
                    栈与队列
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.6.1" data-path="../chapter_stack_and_queue/stack.html">
            
                <a href="../chapter_stack_and_queue/stack.html">
            
                    
                    栈
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6.2" data-path="../chapter_stack_and_queue/queue.html">
            
                <a href="../chapter_stack_and_queue/queue.html">
            
                    
                    队列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6.3" data-path="../chapter_stack_and_queue/deque.html">
            
                <a href="../chapter_stack_and_queue/deque.html">
            
                    
                    双向队列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6.4" data-path="../chapter_stack_and_queue/">
            
                <a href="../chapter_stack_and_queue/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="../chapter_hashing/">
            
                <a href="../chapter_hashing/">
            
                    
                    哈希表
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.7.1" data-path="../chapter_hashing/hash_map.html">
            
                <a href="../chapter_hashing/hash_map.html">
            
                    
                    哈希表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7.2" data-path="../chapter_hashing/hash_collision.html">
            
                <a href="../chapter_hashing/hash_collision.html">
            
                    
                    哈希冲突
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7.3" data-path="../chapter_hashing/hash_algorithm.html">
            
                <a href="../chapter_hashing/hash_algorithm.html">
            
                    
                    哈希算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7.4" data-path="../chapter_hashing/">
            
                <a href="../chapter_hashing/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="./">
            
                <a href="./">
            
                    
                    树
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.8.1" data-path="binary_tree.html">
            
                <a href="binary_tree.html">
            
                    
                    二叉树
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8.2" data-path="binary_tree_traversal.html">
            
                <a href="binary_tree_traversal.html">
            
                    
                    二叉树遍历
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.1.8.3" data-path="array_representation_of_tree.html">
            
                <a href="array_representation_of_tree.html">
            
                    
                    二叉树数组表示
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8.4" data-path="binary_search_tree.html">
            
                <a href="binary_search_tree.html">
            
                    
                    二叉搜索树
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8.5" data-path="avl_tree.html">
            
                <a href="avl_tree.html">
            
                    
                    AVL 树 *
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8.6" data-path="./">
            
                <a href="./">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.9" data-path="../chapter_heap/">
            
                <a href="../chapter_heap/">
            
                    
                    堆
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.9.1" data-path="../chapter_heap/heap.html">
            
                <a href="../chapter_heap/heap.html">
            
                    
                    堆
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9.2" data-path="../chapter_heap/build_heap.html">
            
                <a href="../chapter_heap/build_heap.html">
            
                    
                    建堆操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9.3" data-path="../chapter_heap/top_k.html">
            
                <a href="../chapter_heap/top_k.html">
            
                    
                    Top-k 问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9.4" data-path="../chapter_heap/">
            
                <a href="../chapter_heap/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.10" data-path="../chapter_graph/">
            
                <a href="../chapter_graph/">
            
                    
                    图
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.10.1" data-path="../chapter_graph/graph.html">
            
                <a href="../chapter_graph/graph.html">
            
                    
                    图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.10.2" data-path="../chapter_graph/graph_operations.html">
            
                <a href="../chapter_graph/graph_operations.html">
            
                    
                    图基础操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.10.3" data-path="../chapter_graph/graph_traversal.html">
            
                <a href="../chapter_graph/graph_traversal.html">
            
                    
                    图的遍历
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.10.4" data-path="../chapter_graph/">
            
                <a href="../chapter_graph/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.11" data-path="../chapter_searching/">
            
                <a href="../chapter_searching/">
            
                    
                    搜索
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.11.1" data-path="../chapter_searching/binary_search.html">
            
                <a href="../chapter_searching/binary_search.html">
            
                    
                    二分查找
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11.2" data-path="../chapter_searching/binary_search_insertion.html">
            
                <a href="../chapter_searching/binary_search_insertion.html">
            
                    
                    二分查找插入点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11.3" data-path="../chapter_searching/binary_search_edge.html">
            
                <a href="../chapter_searching/binary_search_edge.html">
            
                    
                    二分查找边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11.4" data-path="../chapter_searching/replace_linear_by_hashing.html">
            
                <a href="../chapter_searching/replace_linear_by_hashing.html">
            
                    
                    哈希优化策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11.5" data-path="../chapter_searching/searching_algorithm_revisited.html">
            
                <a href="../chapter_searching/searching_algorithm_revisited.html">
            
                    
                    重识搜索算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11.6" data-path="../chapter_searching/">
            
                <a href="../chapter_searching/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.12" data-path="../chapter_sorting/">
            
                <a href="../chapter_sorting/">
            
                    
                    排序
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.12.1" data-path="../chapter_sorting/sorting_algorithm.html">
            
                <a href="../chapter_sorting/sorting_algorithm.html">
            
                    
                    排序算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.2" data-path="../chapter_sorting/selection_sort.html">
            
                <a href="../chapter_sorting/selection_sort.html">
            
                    
                    选择排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.3" data-path="../chapter_sorting/bubble_sort.html">
            
                <a href="../chapter_sorting/bubble_sort.html">
            
                    
                    冒泡排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.4" data-path="../chapter_sorting/insertion_sort.html">
            
                <a href="../chapter_sorting/insertion_sort.html">
            
                    
                    插入排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.5" data-path="../chapter_sorting/quick_sort.html">
            
                <a href="../chapter_sorting/quick_sort.html">
            
                    
                    快速排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.6" data-path="../chapter_sorting/merge_sort.html">
            
                <a href="../chapter_sorting/merge_sort.html">
            
                    
                    归并排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.7" data-path="../chapter_sorting/heap_sort.html">
            
                <a href="../chapter_sorting/heap_sort.html">
            
                    
                    堆排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.8" data-path="../chapter_sorting/bucket_sort.html">
            
                <a href="../chapter_sorting/bucket_sort.html">
            
                    
                    桶排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.9" data-path="../chapter_sorting/counting_sort.html">
            
                <a href="../chapter_sorting/counting_sort.html">
            
                    
                    计数排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.10" data-path="../chapter_sorting/radix_sort.html">
            
                <a href="../chapter_sorting/radix_sort.html">
            
                    
                    基数排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12.11" data-path="../chapter_sorting/">
            
                <a href="../chapter_sorting/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.13" data-path="../chapter_divide_and_conquer/">
            
                <a href="../chapter_divide_and_conquer/">
            
                    
                    分治
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.13.1" data-path="../chapter_divide_and_conquer/divide_and_conquer.html">
            
                <a href="../chapter_divide_and_conquer/divide_and_conquer.html">
            
                    
                    分治算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13.2" data-path="../chapter_divide_and_conquer/binary_search_recur.html">
            
                <a href="../chapter_divide_and_conquer/binary_search_recur.html">
            
                    
                    分治搜索策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13.3" data-path="../chapter_divide_and_conquer/build_binary_tree_problem.html">
            
                <a href="../chapter_divide_and_conquer/build_binary_tree_problem.html">
            
                    
                    构建二叉树问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13.4" data-path="../chapter_divide_and_conquer/hanota_problem.html">
            
                <a href="../chapter_divide_and_conquer/hanota_problem.html">
            
                    
                    汉诺塔问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13.5" data-path="../chapter_divide_and_conquer/">
            
                <a href="../chapter_divide_and_conquer/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.14" data-path="../chapter_backtracking/">
            
                <a href="../chapter_backtracking/">
            
                    
                    回溯
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.14.1" data-path="../chapter_backtracking/backtracking_algorithm.html">
            
                <a href="../chapter_backtracking/backtracking_algorithm.html">
            
                    
                    回溯算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14.2" data-path="../chapter_backtracking/permutations_problem.html">
            
                <a href="../chapter_backtracking/permutations_problem.html">
            
                    
                    全排列问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14.3" data-path="../chapter_backtracking/subset_sum_problem.html">
            
                <a href="../chapter_backtracking/subset_sum_problem.html">
            
                    
                    子集和问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14.4" data-path="../chapter_backtracking/n_queens_problem.html">
            
                <a href="../chapter_backtracking/n_queens_problem.html">
            
                    
                    N 皇后问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14.5" data-path="../chapter_backtracking/">
            
                <a href="../chapter_backtracking/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.15" data-path="../chapter_dynamic_programming/">
            
                <a href="../chapter_dynamic_programming/">
            
                    
                    动态规划
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.15.1" data-path="../chapter_dynamic_programming/intro_to_dynamic_programming.html">
            
                <a href="../chapter_dynamic_programming/intro_to_dynamic_programming.html">
            
                    
                    初探动态规划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15.2" data-path="../chapter_dynamic_programming/dp_problem_features.html">
            
                <a href="../chapter_dynamic_programming/dp_problem_features.html">
            
                    
                    动态规划问题特性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15.3" data-path="../chapter_dynamic_programming/dp_solution_pipeline.html">
            
                <a href="../chapter_dynamic_programming/dp_solution_pipeline.html">
            
                    
                    动态规划解题思路
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15.4" data-path="../chapter_dynamic_programming/knapsack_problem.html">
            
                <a href="../chapter_dynamic_programming/knapsack_problem.html">
            
                    
                    0-1 背包问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15.5" data-path="../chapter_dynamic_programming/unbounded_knapsack_problem.html">
            
                <a href="../chapter_dynamic_programming/unbounded_knapsack_problem.html">
            
                    
                    完全背包问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15.6" data-path="../chapter_dynamic_programming/edit_distance_problem.html">
            
                <a href="../chapter_dynamic_programming/edit_distance_problem.html">
            
                    
                    编辑距离问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15.7" data-path="../chapter_dynamic_programming/">
            
                <a href="../chapter_dynamic_programming/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.16" data-path="../chapter_greedy/">
            
                <a href="../chapter_greedy/">
            
                    
                    贪心
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.16.1" data-path="../chapter_greedy/greedy_algorithm.html">
            
                <a href="../chapter_greedy/greedy_algorithm.html">
            
                    
                    贪心算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16.2" data-path="../chapter_greedy/fractional_knapsack_problem.html">
            
                <a href="../chapter_greedy/fractional_knapsack_problem.html">
            
                    
                    分数背包问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16.3" data-path="../chapter_greedy/max_capacity_problem.html">
            
                <a href="../chapter_greedy/max_capacity_problem.html">
            
                    
                    最大容量问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16.4" data-path="../chapter_greedy/max_product_cutting_problem.html">
            
                <a href="../chapter_greedy/max_product_cutting_problem.html">
            
                    
                    最大切分乘积问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16.5" data-path="../chapter_greedy/">
            
                <a href="../chapter_greedy/">
            
                    
                    小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.17" data-path="../chapter_appendix/">
            
                <a href="../chapter_appendix/">
            
                    
                    附录
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.17.1" data-path="../chapter_appendix/installation.html">
            
                <a href="../chapter_appendix/installation.html">
            
                    
                    编程环境安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.17.2" data-path="../chapter_appendix/terminology.html">
            
                <a href="../chapter_appendix/terminology.html">
            
                    
                    术语表
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >二叉树数组表示</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="二叉树数组表示">二叉树数组表示</h1>
<p>在链表表示下，二叉树的存储单元为节点 <code>TreeNode</code> ，节点之间通过指针相连接。上一节介绍了链表表示下的二叉树的各项基本操作。</p>
<p>那么，我们能否用数组来表示二叉树呢？答案是肯定的。</p>
<h2 id="表示完美二叉树">表示完美二叉树</h2>
<p>先分析一个简单案例。给定一棵完美二叉树，我们将所有节点按照层序遍历的顺序存储在一个数组中，则每个节点都对应唯一的数组索引。</p>
<p>根据层序遍历的特性，我们可以推导出父节点索引与子节点索引之间的“映射公式”：<strong>若某节点的索引为 $i$ ，则该节点的左子节点索引为 $2i + 1$ ，右子节点索引为 $2i + 2$</strong> 。下图展示了各个节点索引之间的映射关系。</p>
<p><img src="array_representation_of_tree.assets/array_representation_binary_tree.png" alt="完美二叉树的数组表示"></img></p>
<p><strong>映射公式的角色相当于链表中的指针</strong>。给定数组中的任意一个节点，我们都可以通过映射公式来访问它的左（右）子节点。</p>
<h2 id="表示任意二叉树">表示任意二叉树</h2>
<p>完美二叉树是一个特例，在二叉树的中间层通常存在许多 <code>None</code> 。由于层序遍历序列并不包含这些 <code>None</code> ，因此我们无法仅凭该序列来推测 <code>None</code> 的数量和分布位置。<strong>这意味着存在多种二叉树结构都符合该层序遍历序列</strong>。</p>
<p>如下图所示，给定一棵非完美二叉树，上述数组表示方法已经失效。</p>
<p><img src="array_representation_of_tree.assets/array_representation_without_empty.png" alt="层序遍历序列对应多种二叉树可能性"></img></p>
<p>为了解决此问题，<strong>我们可以考虑在层序遍历序列中显式地写出所有 <code>None</code></strong> 。如下图所示，这样处理后，层序遍历序列就可以唯一表示二叉树了。示例代码如下：</p>
<ul>
<li><p>"Python"</p>
<p>  <code>python title=""
 // 二叉树的数组表示
 // 使用 None 来表示空位
  tree = [1, 2, 3, 4, None, 6, 7, 8, 9, None, None, 12, None, None, 15]</code></p>
</li>
<li><p>"C++"</p>
<p>  <code>cpp title=""
  /* 二叉树的数组表示 */
  // 使用 int 最大值 INT_MAX 标记空位
  vector&lt;int&gt; tree = {1, 2, 3, 4, INT_MAX, 6, 7, 8, 9, INT_MAX, INT_MAX, 12, INT_MAX, INT_MAX, 15};</code></p>
</li>
<li><p>"Java"</p>
<p>  <code>java title=""
  /* 二叉树的数组表示 */
  // 使用 int 的包装类 Integer ，就可以使用 null 来标记空位
  Integer[] tree = { 1, 2, 3, 4, null, 6, 7, 8, 9, null, null, 12, null, null, 15 };</code></p>
</li>
<li><p>"C#"</p>
<p>  <code>csharp title=""
  /* 二叉树的数组表示 */
  // 使用 int? 可空类型 ，就可以使用 null 来标记空位
  int?[] tree = [1, 2, 3, 4, null, 6, 7, 8, 9, null, null, 12, null, null, 15];</code></p>
</li>
<li><p>"Go"</p>
<p>  <code>go title=""
  /* 二叉树的数组表示 */
  // 使用 any 类型的切片, 就可以使用 nil 来标记空位
  tree := []any{1, 2, 3, 4, nil, 6, 7, 8, 9, nil, nil, 12, nil, nil, 15}</code></p>
</li>
<li><p>"Swift"</p>
<p>  <code>swift title=""
  /* 二叉树的数组表示 */
  // 使用 Int? 可空类型 ，就可以使用 nil 来标记空位
  let tree: [Int?] = [1, 2, 3, 4, nil, 6, 7, 8, 9, nil, nil, 12, nil, nil, 15]</code></p>
</li>
<li><p>"JS"</p>
<p>  <code>javascript title=""
  /* 二叉树的数组表示 */
  // 使用 null 来表示空位
  let tree = [1, 2, 3, 4, null, 6, 7, 8, 9, null, null, 12, null, null, 15];</code></p>
</li>
<li><p>"TS"</p>
<p>  <code>typescript title=""
  /* 二叉树的数组表示 */
  // 使用 null 来表示空位
  let tree: (number | null)[] = [1, 2, 3, 4, null, 6, 7, 8, 9, null, null, 12, null, null, 15];</code></p>
</li>
<li><p>"Dart"</p>
<p>  <code>dart title=""
  /* 二叉树的数组表示 */
  // 使用 int? 可空类型 ，就可以使用 null 来标记空位
  List&lt;int?&gt; tree = [1, 2, 3, 4, null, 6, 7, 8, 9, null, null, 12, null, null, 15];</code></p>
</li>
<li><p>"Rust"</p>
<p>  <code>rust title=""
  /* 二叉树的数组表示 */
  // 使用 None 来标记空位
  let tree = [Some(1), Some(2), Some(3), Some(4), None, Some(6), Some(7), Some(8), Some(9), None, None, Some(12), None, None, Some(15)];</code></p>
</li>
<li><p>"C"</p>
<p>  <code>c title=""
  /* 二叉树的数组表示 */
  // 使用 int 最大值标记空位，因此要求节点值不能为 INT_MAX
  int tree[] = {1, 2, 3, 4, INT_MAX, 6, 7, 8, 9, INT_MAX, INT_MAX, 12, INT_MAX, INT_MAX, 15};</code></p>
</li>
<li><p>"Zig"</p>
<p>  ```zig title=""</p>
<p>  ```</p>
</li>
</ul>
<p><img src="array_representation_of_tree.assets/array_representation_with_empty.png" alt="任意类型二叉树的数组表示"></img></p>
<p>值得说明的是，<strong>完全二叉树非常适合使用数组来表示</strong>。回顾完全二叉树的定义，<code>None</code> 只出现在最底层且靠右的位置，<strong>因此所有 <code>None</code> 一定出现在层序遍历序列的末尾</strong>。</p>
<p>这意味着使用数组表示完全二叉树时，可以省略存储所有 <code>None</code> ，非常方便。下图给出了一个例子。</p>
<p><img src="array_representation_of_tree.assets/array_representation_complete_binary_tree.png" alt="完全二叉树的数组表示"></img></p>
<p>以下代码实现了一棵基于数组表示的二叉树，包括以下几种操作。</p>
<ul>
<li>给定某节点，获取它的值、左（右）子节点、父节点。</li>
<li><p>获取前序遍历、中序遍历、后序遍历、层序遍历序列。</p>
</li>
<li><p>"Python"</p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayBinaryTree</span>:</span>
  <span class="hljs-string">"""数组表示下的二叉树类"""</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, arr: list[int | None])</span>:</span>
      <span class="hljs-string">"""构造方法"""</span>
      self._tree = list(arr)

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">size</span><span class="hljs-params">(self)</span>:</span>
      <span class="hljs-string">"""列表容量"""</span>
      <span class="hljs-keyword">return</span> len(self._tree)

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">val</span><span class="hljs-params">(self, i: int)</span> -&gt; <span class="hljs-title">int</span>:</span>
      <span class="hljs-string">"""获取索引为 i 节点的值"""</span>
     // 若索引越界，则返回 <span class="hljs-keyword">None</span> ，代表空位
      <span class="hljs-keyword">if</span> i &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> i &gt;= self.size():
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">None</span>
      <span class="hljs-keyword">return</span> self._tree[i]

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">left</span><span class="hljs-params">(self, i: int)</span> -&gt; <span class="hljs-title">int</span> | <span class="hljs-title">None</span>:</span>
      <span class="hljs-string">"""获取索引为 i 节点的左子节点的索引"""</span>
      <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">right</span><span class="hljs-params">(self, i: int)</span> -&gt; <span class="hljs-title">int</span> | <span class="hljs-title">None</span>:</span>
      <span class="hljs-string">"""获取索引为 i 节点的右子节点的索引"""</span>
      <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * i + <span class="hljs-number">2</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parent</span><span class="hljs-params">(self, i: int)</span> -&gt; <span class="hljs-title">int</span> | <span class="hljs-title">None</span>:</span>
      <span class="hljs-string">"""获取索引为 i 节点的父节点的索引"""</span>
      <span class="hljs-keyword">return</span> (i - <span class="hljs-number">1</span>) // <span class="hljs-number">2</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">level_order</span><span class="hljs-params">(self)</span> -&gt; <span class="hljs-title">list</span>[<span class="hljs-title">int</span>]:</span>
      <span class="hljs-string">"""层序遍历"""</span>
      self.res = []
     // 直接遍历数组
      <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(self.size()):
          <span class="hljs-keyword">if</span> self.val(i) <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
              self.res.append(self.val(i))
      <span class="hljs-keyword">return</span> self.res

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span><span class="hljs-params">(self, i: int, order: str)</span>:</span>
      <span class="hljs-string">"""深度优先遍历"""</span>
      <span class="hljs-keyword">if</span> self.val(i) <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
          <span class="hljs-keyword">return</span>
     // 前序遍历
      <span class="hljs-keyword">if</span> order == <span class="hljs-string">"pre"</span>:
          self.res.append(self.val(i))
      self.dfs(self.left(i), order)
     // 中序遍历
      <span class="hljs-keyword">if</span> order == <span class="hljs-string">"in"</span>:
          self.res.append(self.val(i))
      self.dfs(self.right(i), order)
     // 后序遍历
      <span class="hljs-keyword">if</span> order == <span class="hljs-string">"post"</span>:
          self.res.append(self.val(i))

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pre_order</span><span class="hljs-params">(self)</span> -&gt; <span class="hljs-title">list</span>[<span class="hljs-title">int</span>]:</span>
      <span class="hljs-string">"""前序遍历"""</span>
      self.res = []
      self.dfs(<span class="hljs-number">0</span>, order=<span class="hljs-string">"pre"</span>)
      <span class="hljs-keyword">return</span> self.res

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">in_order</span><span class="hljs-params">(self)</span> -&gt; <span class="hljs-title">list</span>[<span class="hljs-title">int</span>]:</span>
      <span class="hljs-string">"""中序遍历"""</span>
      self.res = []
      self.dfs(<span class="hljs-number">0</span>, order=<span class="hljs-string">"in"</span>)
      <span class="hljs-keyword">return</span> self.res

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">post_order</span><span class="hljs-params">(self)</span> -&gt; <span class="hljs-title">list</span>[<span class="hljs-title">int</span>]:</span>
      <span class="hljs-string">"""后序遍历"""</span>
      self.res = []
      self.dfs(<span class="hljs-number">0</span>, order=<span class="hljs-string">"post"</span>)
      <span class="hljs-keyword">return</span> self.res
</code></pre>
</li>
<li><p>"C++"</p>
<pre><code class="lang-cpp"><span class="hljs-comment">/* 数组表示下的二叉树类 */</span>
<span class="hljs-keyword">class</span> ArrayBinaryTree {
<span class="hljs-keyword">public</span>:
  <span class="hljs-comment">/* 构造方法 */</span>
  ArrayBinaryTree(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; arr) {
      tree = arr;
  }

  <span class="hljs-comment">/* 列表容量 */</span>
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> tree.size();
  }

  <span class="hljs-comment">/* 获取索引为 i 节点的值 */</span>
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">val</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
      <span class="hljs-comment">// 若索引越界，则返回 INT_MAX ，代表空位</span>
      <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || i &gt;= size())
          <span class="hljs-keyword">return</span> INT_MAX;
      <span class="hljs-keyword">return</span> tree[i];
  }

  <span class="hljs-comment">/* 获取索引为 i 节点的左子节点的索引 */</span>
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">left</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>;
  }

  <span class="hljs-comment">/* 获取索引为 i 节点的右子节点的索引 */</span>
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">right</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * i + <span class="hljs-number">2</span>;
  }

  <span class="hljs-comment">/* 获取索引为 i 节点的父节点的索引 */</span>
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">parent</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
      <span class="hljs-keyword">return</span> (i - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;
  }

  <span class="hljs-comment">/* 层序遍历 */</span>
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; levelOrder() {
      <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
      <span class="hljs-comment">// 直接遍历数组</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size(); i++) {
          <span class="hljs-keyword">if</span> (val(i) != INT_MAX)
              res.push_back(val(i));
      }
      <span class="hljs-keyword">return</span> res;
  }

  <span class="hljs-comment">/* 前序遍历 */</span>
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; preOrder() {
      <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
      dfs(<span class="hljs-number">0</span>, <span class="hljs-string">"pre"</span>, res);
      <span class="hljs-keyword">return</span> res;
  }

  <span class="hljs-comment">/* 中序遍历 */</span>
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; inOrder() {
      <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
      dfs(<span class="hljs-number">0</span>, <span class="hljs-string">"in"</span>, res);
      <span class="hljs-keyword">return</span> res;
  }

  <span class="hljs-comment">/* 后序遍历 */</span>
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; postOrder() {
      <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
      dfs(<span class="hljs-number">0</span>, <span class="hljs-string">"post"</span>, res);
      <span class="hljs-keyword">return</span> res;
  }

<span class="hljs-keyword">private</span>:
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; tree;

  <span class="hljs-comment">/* 深度优先遍历 */</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-built_in">string</span> order, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp;res)</span> </span>{
      <span class="hljs-comment">// 若为空位，则返回</span>
      <span class="hljs-keyword">if</span> (val(i) == INT_MAX)
          <span class="hljs-keyword">return</span>;
      <span class="hljs-comment">// 前序遍历</span>
      <span class="hljs-keyword">if</span> (order == <span class="hljs-string">"pre"</span>)
          res.push_back(val(i));
      dfs(left(i), order, res);
      <span class="hljs-comment">// 中序遍历</span>
      <span class="hljs-keyword">if</span> (order == <span class="hljs-string">"in"</span>)
          res.push_back(val(i));
      dfs(right(i), order, res);
      <span class="hljs-comment">// 后序遍历</span>
      <span class="hljs-keyword">if</span> (order == <span class="hljs-string">"post"</span>)
          res.push_back(val(i));
  }
};
</code></pre>
</li>
<li><p>"Java"</p>
<pre><code class="lang-java"><span class="hljs-comment">/* 数组表示下的二叉树类 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayBinaryTree</span> </span>{
  <span class="hljs-keyword">private</span> List&lt;Integer&gt; tree;

  <span class="hljs-comment">/* 构造方法 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ArrayBinaryTree</span><span class="hljs-params">(List&lt;Integer&gt; arr)</span> </span>{
      tree = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;(arr);
  }

  <span class="hljs-comment">/* 列表容量 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> tree.size();
  }

  <span class="hljs-comment">/* 获取索引为 i 节点的值 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">val</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
      <span class="hljs-comment">// 若索引越界，则返回 null ，代表空位</span>
      <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || i &gt;= size())
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
      <span class="hljs-keyword">return</span> tree.get(i);
  }

  <span class="hljs-comment">/* 获取索引为 i 节点的左子节点的索引 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">left</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>;
  }

  <span class="hljs-comment">/* 获取索引为 i 节点的右子节点的索引 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">right</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * i + <span class="hljs-number">2</span>;
  }

  <span class="hljs-comment">/* 获取索引为 i 节点的父节点的索引 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">parent</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
      <span class="hljs-keyword">return</span> (i - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;
  }

  <span class="hljs-comment">/* 层序遍历 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title">levelOrder</span><span class="hljs-params">()</span> </span>{
      List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
      <span class="hljs-comment">// 直接遍历数组</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size(); i++) {
          <span class="hljs-keyword">if</span> (val(i) != <span class="hljs-keyword">null</span>)
              res.add(val(i));
      }
      <span class="hljs-keyword">return</span> res;
  }

  <span class="hljs-comment">/* 深度优先遍历 */</span>
  <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(Integer i, String order, List&lt;Integer&gt; res)</span> </span>{
      <span class="hljs-comment">// 若为空位，则返回</span>
      <span class="hljs-keyword">if</span> (val(i) == <span class="hljs-keyword">null</span>)
          <span class="hljs-keyword">return</span>;
      <span class="hljs-comment">// 前序遍历</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-string">"pre"</span>.equals(order))
          res.add(val(i));
      dfs(left(i), order, res);
      <span class="hljs-comment">// 中序遍历</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-string">"in"</span>.equals(order))
          res.add(val(i));
      dfs(right(i), order, res);
      <span class="hljs-comment">// 后序遍历</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-string">"post"</span>.equals(order))
          res.add(val(i));
  }

  <span class="hljs-comment">/* 前序遍历 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title">preOrder</span><span class="hljs-params">()</span> </span>{
      List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
      dfs(<span class="hljs-number">0</span>, <span class="hljs-string">"pre"</span>, res);
      <span class="hljs-keyword">return</span> res;
  }

  <span class="hljs-comment">/* 中序遍历 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title">inOrder</span><span class="hljs-params">()</span> </span>{
      List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
      dfs(<span class="hljs-number">0</span>, <span class="hljs-string">"in"</span>, res);
      <span class="hljs-keyword">return</span> res;
  }

  <span class="hljs-comment">/* 后序遍历 */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title">postOrder</span><span class="hljs-params">()</span> </span>{
      List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
      dfs(<span class="hljs-number">0</span>, <span class="hljs-string">"post"</span>, res);
      <span class="hljs-keyword">return</span> res;
  }
}
</code></pre>
</li>
</ul>
<h2 id="优点与局限性">优点与局限性</h2>
<p>二叉树的数组表示主要有以下优点。</p>
<ul>
<li>数组存储在连续的内存空间中，对缓存友好，访问与遍历速度较快。</li>
<li>不需要存储指针，比较节省空间。</li>
<li>允许随机访问节点。</li>
</ul>
<p>然而，数组表示也存在一些局限性。</p>
<ul>
<li>数组存储需要连续内存空间，因此不适合存储数据量过大的树。</li>
<li>增删节点需要通过数组插入与删除操作实现，效率较低。</li>
<li>当二叉树中存在大量 <code>None</code> 时，数组中包含的节点数据比重较低，空间利用率较低。</li>
</ul>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="binary_tree_traversal.html" class="navigation navigation-prev " aria-label="Previous page: 二叉树遍历">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="binary_search_tree.html" class="navigation navigation-next " aria-label="Next page: 二叉搜索树">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"二叉树数组表示","level":"1.1.8.3","depth":3,"next":{"title":"二叉搜索树","level":"1.1.8.4","depth":3,"path":"chapter_tree/binary_search_tree.md","ref":"chapter_tree/binary_search_tree.md","articles":[]},"previous":{"title":"二叉树遍历","level":"1.1.8.2","depth":3,"path":"chapter_tree/binary_tree_traversal.md","ref":"chapter_tree/binary_tree_traversal.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-search","-livereload","-lunr","-fontsettings","highlight","expandable-chapters-small","back-to-top-button","github","code","theme-default"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{"lang":{"eval_rst":"rst","toc":"text"}},"github":{"url":"https://github.com/KittenCN"},"expandable-chapters-small":{},"back-to-top-button":{},"code":{"copyButtons":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Todd Lyu","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"CoderFAN 资料库","gitbook":"*"},"file":{"path":"chapter_tree/array_representation_of_tree.md","mtime":"2024-01-19T02:29:18.149Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-05T05:19:40.731Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    

    </body>
</html>

